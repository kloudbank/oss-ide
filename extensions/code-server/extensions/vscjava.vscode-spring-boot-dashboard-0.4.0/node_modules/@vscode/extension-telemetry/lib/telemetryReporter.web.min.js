var xo=Object.defineProperty;var vo=Object.getOwnPropertySymbols;var Sc=Object.prototype.hasOwnProperty,Ic=Object.prototype.propertyIsEnumerable;var ho=(t,e,r)=>e in t?xo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xe=(t,e)=>{for(var r in e||(e={}))Sc.call(e,r)&&ho(t,r,e[r]);if(vo)for(var r of vo(e))Ic.call(e,r)&&ho(t,r,e[r]);return t};var I=(t,e)=>()=>(t&&(e=t(t=0)),e);var Cc=(t,e)=>{for(var r in e)xo(t,r,{get:e[r],enumerable:!0})};var Vr=(t,e,r)=>new Promise((n,i)=>{var a=s=>{try{u(r.next(s))}catch(c){i(c)}},o=s=>{try{u(r.throw(s))}catch(c){i(c)}},u=s=>s.done?n(s.value):Promise.resolve(s.value).then(a,o);u((r=r.apply(t,e)).next())});var So,Io=I(()=>{So={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}});var mt,Je,Oe,Ce,qr,gt,Cr,Tr,Un,On,nr,zn=I(()=>{mt="function",Je="object",Oe="undefined",Ce="prototype",qr="hasOwnProperty",gt=Object,Cr=gt[Ce],Tr=gt.assign,Un=gt.create,On=gt.defineProperty,nr=Cr[qr]});function ot(){return typeof globalThis!==Oe&&globalThis?globalThis:typeof self!==Oe&&self?self:typeof window!==Oe&&window?window:typeof global!==Oe&&global?global:null}function Er(t){throw new TypeError(t)}function Dt(t){var e=Un;if(e)return e(t);if(t==null)return{};var r=typeof t;r!==Je&&r!==mt&&Er("Object prototype may only be an Object:"+t);function n(){}return n[Ce]=t,new n}var ki=I(()=>{zn()});function z(t,e){typeof e!==mt&&e!==null&&Er("Class extends value "+String(e)+" is not a constructor or null"),Fi(t,e);function r(){this.constructor=t}t[Ce]=e===null?Dt(e):(r[Ce]=e[Ce],new r)}var zl,Bl,Ec,yt,Fi,Co=I(()=>{zn();ki();zl=(ot()||{}).Symbol,Bl=(ot()||{}).Reflect,Ec=function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Cr[qr].call(e,i)&&(t[i]=e[i])}return t},yt=Tr||Ec,Fi=function(t,e){return Fi=gt.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[qr](i)&&(r[i]=n[i])},Fi(t,e)}});var To=I(()=>{});var ne=I(()=>{zn();ki();Co();To()});function Ht(t,e){return t&&Gn[Nt].hasOwnProperty.call(t,e)}function Ao(t){return t&&(t===Gn[Nt]||t===Array[Nt])}function Ui(t){return Ao(t)||t===Function[Nt]}function ir(t){if(t){if(Gr)return Gr(t);var e=t[bc]||t[Nt]||(t[Bn]?t[Bn][Nt]:null);if(e)return e}return null}function qn(t,e){var r=[],n=Gn.getOwnPropertyNames;if(n)r=n(t);else for(var i in t)typeof i=="string"&&Ht(t,i)&&r.push(i);if(r&&r.length>0)for(var a=0;a<r.length;a++)e(r[a])}function Oi(t,e,r){return e!==Bn&&typeof t[e]===Hn&&(r||Ht(t,e))}function jn(t){throw new TypeError("DynamicProto: "+t)}function Pc(t){var e={};return qn(t,function(r){!e[r]&&Oi(t,r,!1)&&(e[r]=t[r])}),e}function zi(t,e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return!0;return!1}function Ac(t,e,r,n){function i(s,c,l){var f=c[l];if(f[Li]&&n){var m=s[Vn]||{};m[jr]!==!1&&(f=(m[c[wr]]||{})[l]||f)}return function(){return f.apply(s,arguments)}}var a={};qn(r,function(s){a[s]=i(e,r,s)});for(var o=ir(t),u=[];o&&!Ui(o)&&!zi(u,o);)qn(o,function(s){!a[s]&&Oi(o,s,!Gr)&&(a[s]=i(e,o,s))}),u.push(o),o=ir(o);return a}function Dc(t,e,r,n){var i=null;if(t&&Ht(r,wr)){var a=t[Vn]||{};if(i=(a[r[wr]]||{})[e],i||jn("Missing ["+e+"] "+Hn),!i[_i]&&a[jr]!==!1){for(var o=!Ht(t,e),u=ir(t),s=[];o&&u&&!Ui(u)&&!zi(s,u);){var c=u[e];if(c){o=c===n;break}s.push(u),u=ir(u)}try{o&&(t[e]=i),i[_i]=1}catch(l){a[jr]=!1}}}return i}function Nc(t,e,r){var n=e[t];return n===r&&(n=ir(e)[t]),typeof n!==Hn&&jn("["+t+"] is not a "+Hn),n}function kc(t,e,r,n,i){function a(s,c){var l=function(){var f=Dc(this,c,s,l)||Nc(c,s,l);return f.apply(this,arguments)};return l[Li]=1,l}if(!Ao(t)){var o=r[Vn]=r[Vn]||{},u=o[e]=o[e]||{};o[jr]!==!1&&(o[jr]=!!i),qn(r,function(s){Oi(r,s,!1)&&r[s]!==n[s]&&(u[s]=r[s],delete r[s],(!Ht(t,s)||t[s]&&!t[s][Li])&&(t[s]=a(t,s)))})}}function Fc(t,e){if(Gr)for(var r=[],n=ir(e);n&&!Ui(n)&&!zi(r,n);){if(n===t)return!0;r.push(n),n=ir(n)}return!1}function Mi(t,e){return Ht(t,Nt)?t.name||e||Eo:((t||{})[Bn]||{}).name||e||Eo}function Bi(t,e,r,n){Ht(t,Nt)||jn("theClass is an invalid class definition.");var i=t[Nt];Fc(i,e)||jn("["+Mi(t)+"] is not in class hierarchy of ["+Mi(e)+"]");var a=null;Ht(i,wr)?a=i[wr]:(a=wc+Mi(t,"_")+"$"+bo,bo++,i[wr]=a);var o=Bi[Po],u=!!o[Ri];u&&n&&n[Ri]!==void 0&&(u=!!n[Ri]);var s=Pc(e),c=Ac(i,e,s,u);r(e,c);var l=!!Gr&&!!o[wo];l&&n&&(l=!!n[wo]),kc(i,a,e,s,l!==!1)}var Bn,Nt,Hn,Vn,Li,wr,wc,_i,jr,Po,Eo,bc,Ri,wo,Gn,Gr,bo,Rc,W,Te=I(()=>{Bn="constructor",Nt="prototype",Hn="function",Vn="_dynInstFuncs",Li="_isDynProxy",wr="_dynClass",wc="_dynCls$",_i="_dynInstChk",jr=_i,Po="_dfOpts",Eo="_unknown_",bc="__proto__",Ri="useBaseInst",wo="setInstFuncs",Gn=Object,Gr=Gn.getPrototypeOf,bo=0;Rc={setInstFuncs:!0,useBaseInst:!0};Bi[Po]=Rc;W=Bi});var S,h,Kr=I(()=>{(function(t){t[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING"})(S||(S={}));h={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function Vi(t){return Cr.toString.call(t)}function qi(t,e){return typeof t===e}function pe(t){return t===void 0||typeof t===Oe}function x(t){return t===null||pe(t)}function ji(t){return!x(t)}function br(t,e){return t&&nr.call(t,e)}function st(t){return typeof t===Je}function B(t){return typeof t===mt}function Vt(t,e,r,n){n===void 0&&(n=!1);var i=!1;if(!x(t))try{x(t[No])?x(t[Do])||(t[Do](Mo+e,r),i=!0):(t[No](e,r,n),i=!0)}catch(a){}return i}function Kn(t,e,r,n){if(n===void 0&&(n=!1),!x(t))try{x(t[Fo])?x(t[ko])||t[ko](Mo+e,r):t[Fo](e,r,n)}catch(i){}}function Gi(t){var e=t,r=/([^\w\d_$])/g;return r.test(t)&&(e=t.replace(r,"_")),e}function Y(t,e){if(t)for(var r in t)nr.call(t,r)&&e.call(t,r,t[r])}function Ki(t,e){if(t&&e){var r=e.length,n=t.length;if(t===e)return!0;if(n>=r){for(var i=n-1,a=r-1;a>=0;a--){if(t[i]!=e[a])return!1;i--}return!0}}return!1}function Ee(t,e){return t&&e?t.indexOf(e)!==-1:!1}function Pr(t){return Vi(t)==="[object Date]"}function Re(t){return Vi(t)==="[object Array]"}function qt(t){return Vi(t)==="[object Error]"}function U(t){return typeof t=="string"}function ar(t){return typeof t=="number"}function Wr(t){return typeof t=="boolean"}function Me(t){if(Pr(t)){var e=function(r){var n=String(r);return n.length===1&&(n="0"+n),n};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function R(t,e,r){for(var n=t.length,i=0;i<n&&!(i in t&&e.call(r||t,t[i],i,t)===-1);i++);}function kt(t,e,r){for(var n=t.length,i=r||0,a=Math.max(i>=0?i:n-Math.abs(i),0);a<n;a++)if(a in t&&t[a]===e)return a;return-1}function jt(t,e,r){for(var n=t.length,i=r||t,a=new Array(n),o=0;o<n;o++)o in t&&(a[o]=e.call(i,t[o],t));return a}function Xr(t,e,r){var n=t.length,i=0,a;if(arguments.length>=3)a=arguments[2];else{for(;i<n&&!(i in t);)i++;a=t[i++]}for(;i<n;)i in t&&(a=e(a,t[i],i,t)),i++;return a}function se(t){return typeof t!="string"?t:t.replace(/^\s+|\s+$/g,"")}function Ye(t){var e=typeof t;e!==mt&&(e!==Je||t===null)&&Er("objKeys called on non-object");var r=[];for(var n in t)t&&nr.call(t,n)&&r.push(n);if(Mc)for(var i=Hi.length,a=0;a<i;a++)t&&nr.call(t,Hi[a])&&r.push(Hi[a]);return r}function St(t,e,r,n){if(Ro)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),Ro(t,e,i),!0}catch(a){}return!1}function de(){var t=Date;return t.now?t.now():new t().getTime()}function G(t){return qt(t)?t.name:""}function K(t,e,r,n,i){var a=r;return t&&(a=t[e],a!==r&&(!i||i(a))&&(!n||n(r))&&(a=r,t[e]=a)),a}function ge(t,e,r){var n;return t?(n=t[e],!n&&x(n)&&(n=pe(r)?{}:r,t[e]=n)):n=pe(r)?{}:r,n}function Wn(t){return!t}function Ar(t){return!!t}function De(t){throw new Error(t)}function Jr(t,e,r){if(t&&e&&t!==e&&st(t)&&st(e)){var n=function(a){if(U(a)){var o=e[a];B(o)?(!r||r(a,!0,e,t))&&(t[a]=function(u){return function(){var s=arguments;return e[u].apply(e,s)}}(a)):(!r||r(a,!1,e,t))&&(br(t,a)&&delete t[a],St(t,a,function(){return e[a]},function(u){e[a]=u})||(t[a]=o))}};for(var i in e)n(i)}return t}function Wi(t){return function(){function e(){var r=this;t&&Y(t,function(n,i){r[n]=i})}return e}()}function Xn(t){return t&&(t=gt(Tr?Tr({},t):t)),t}var Mo,Do,No,ko,Fo,Ro,pf,df,Mc,Hi,Le=I(()=>{ne();Mo="on",Do="attachEvent",No="addEventListener",ko="detachEvent",Fo="removeEventListener",Ro=On,pf=gt.freeze,df=gt.seal;Mc=!{toString:null}.propertyIsEnumerable("toString"),Hi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function we(t){var e=ot();return e&&e[t]?e[t]:t===Lo&&or()?window:null}function or(){return Boolean(typeof window===Je&&window)}function It(){return or()?window:we(Lo)}function Jn(){return Boolean(typeof document===Je&&document)}function Ne(){return Jn()?document:we(Lc)}function Uo(){return Boolean(typeof navigator===Je&&navigator)}function _e(){return Uo()?navigator:we(_c)}function Oo(){return Boolean(typeof history===Je&&history)}function $i(){return Oo()?history:we(Uc)}function et(t){if(t&&jc){var e=we("__mockLocation");if(e)return e}return typeof location===Je&&location?location:we(Oc)}function Yi(){return typeof console!==Oe?console:we(zc)}function Qe(){return we(Bc)}function vt(){return Boolean(typeof JSON===Je&&JSON||we(_o)!==null)}function be(){return vt()?JSON||we(_o):null}function ea(){return we(Hc)}function ta(){return we(Vc)}function ra(){var t=_e();return t&&t.product?t.product===qc:!1}function Gt(){var t=_e();if(t&&(t.userAgent!==Ji||Xi===null)){Ji=t.userAgent;var e=(Ji||"").toLowerCase();Xi=Ee(e,Qi)||Ee(e,Zi)}return Xi}function sr(t){if(t===void 0&&(t=null),!t){var e=_e()||{};t=e?(e.userAgent||"").toLowerCase():""}var r=(t||"").toLowerCase();if(Ee(r,Qi))return parseInt(r.split(Qi)[1]);if(Ee(r,Zi)){var n=parseInt(r.split(Zi)[1]);if(n)return n+4}return null}function O(t){var e=Object[Ce].toString.call(t),r="";return e==="[object Error]"?r="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":vt()&&(r=be().stringify(t)),e+r}var Lo,Lc,_c,Uc,Oc,zc,Bc,_o,Hc,Vc,qc,Qi,Zi,Xi,Ji,jc,Dr=I(()=>{"use strict";ne();Le();Lo="window",Lc="document",_c="navigator",Uc="history",Oc="location",zc="console",Bc="performance",_o="JSON",Hc="crypto",Vc="msCrypto",qc="ReactNative",Qi="msie",Zi="trident/",Xi=null,Ji=null,jc=!1});function zo(t){return t?'"'+t.replace(/\"/g,"")+'"':""}function Rt(t,e){return(t||{}).logger||new Qn(e)}var Gc,Kc,Wc,Ft,Qn,Zn=I(()=>{"use strict";Kr();Dr();Te();Le();Gc="AI (Internal): ",Kc="AI: ",Wc="AITR_";Ft=function(){function t(e,r,n,i){n===void 0&&(n=!1);var a=this;a.messageId=e,a.message=(n?Kc:Gc)+e;var o="";vt()&&(o=be().stringify(i));var u=(r?" message:"+zo(r):"")+(i?" props:"+zo(o):"");a.message+=u}return t.dataType="MessageData",t}();Qn=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};W(t,this,function(i){x(e)&&(e={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},i.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},i.throwInternal=function(u,s,c,l,f){f===void 0&&(f=!1);var m=new Ft(s,c,f,l);if(i.enableDebugExceptions())throw m;if(!pe(m.message)){var C=i.consoleLoggingLevel();if(f){var E=+m.messageId;!n[E]&&C>=S.WARNING&&(i.warnToConsole(m.message),n[E]=!0)}else C>=S.WARNING&&i.warnToConsole(m.message);i.logInternalMessage(u,m)}},i.warnToConsole=function(u){var s=Yi();if(s){var c="log";s.warn&&(c="warn"),B(s[c])&&s[c](u)}},i.resetInternalMessageCount=function(){r=0,n={}},i.logInternalMessage=function(u,s){if(!o()){var c=!0,l=Wc+s.messageId;if(n[l]?c=!1:n[l]=!0,c&&(u<=i.telemetryLoggingLevel()&&(i.queue.push(s),r++),r===i.maxInternalMessageLimit())){var f="Internal events throttle limit per PageView reached for this app.",m=new Ft(h.MessageLimitPerPVExceeded,f,!1);i.queue.push(m),i.warnToConsole(f)}}};function a(u,s){var c=e[u];return x(c)?s:c}function o(){return r>=i.maxInternalMessageLimit()}})}return t}()});function ut(t,e,r,n,i){if(t){var a=t;if(B(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var o=void 0,u=a.getCtx(na);try{if(o=a.create(e(),n,i),o){if(u&&o.setCtx&&(o.setCtx(ur.ParentContextKey,u),u.getCtx&&u.setCtx)){var s=u.getCtx(ur.ChildrenContextKey);s||(s=[],u.setCtx(ur.ChildrenContextKey,s)),s.push(o)}return a.setCtx(na,o),r(o)}}catch(c){o&&o.setCtx&&o.setCtx("exception",c)}finally{o&&a.fire(o),a.setCtx(na,u)}}}return r()}var Nr,ur,Qr,na,Zr=I(()=>{Te();Le();Nr="ctx",ur=function(){function t(e,r,n){var i=this,a=!1;if(i.start=de(),i.name=e,i.isAsync=n,i.isChildEvt=function(){return!1},B(r)){var o;a=St(i,"payload",function(){return!o&&B(r)&&(o=r(),r=null),o})}i.getCtx=function(u){return u?u===t.ParentContextKey||u===t.ChildrenContextKey?i[u]:(i[Nr]||{})[u]:null},i.setCtx=function(u,s){if(u)if(u===t.ParentContextKey)i[u]||(i.isChildEvt=function(){return!0}),i[u]=s;else if(u===t.ChildrenContextKey)i[u]=s;else{var c=i[Nr]=i[Nr]||{};c[u]=s}},i.complete=function(){var u=0,s=i.getCtx(t.ChildrenContextKey);if(Re(s))for(var c=0;c<s.length;c++){var l=s[c];l&&(u+=l.time)}i.time=de()-i.start,i.exTime=i.time-u,i.complete=function(){},!a&&B(r)&&(i.payload=r())}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),Qr=function(){function t(e){this.ctx={},W(t,this,function(r){r.create=function(n,i,a){return new ur(n,i,a)},r.fire=function(n){n&&(n.complete(),e&&e.perfEvent(n))},r.setCtx=function(n,i){if(n){var a=r[Nr]=r[Nr]||{};a[n]=i}},r.getCtx=function(n){return(r[Nr]||{})[n]}})}return t}(),na="CoreUtils.doPerf"});var Bo,Ho=I(()=>{"use strict";Zr();Kr();Le();Bo=function(){function t(e,r){var n=this,i=null,a=B(e.processTelemetry),o=B(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(u){i=u},n.processTelemetry=function(u,s){s||(s=r);var c=e?e.identifier:"TelemetryPluginChain";ut(s?s.core():null,function(){return c+":processTelemetry"},function(){if(e&&a){n._hasRun=!0;try{s.setNext(i),o&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(u,s)}catch(f){var l=i&&i._hasRun;(!i||!l)&&s.diagLog().throwInternal(S.CRITICAL,h.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+f),i&&!l&&i.processTelemetry(u,s)}}else i&&(n._hasRun=!0,i.processTelemetry(u,s))},function(){return{item:u}},!u.sync)}}return t}()});function ia(t,e){var r=[];if(t&&t.length>0)for(var n=null,i=0;i<t.length;i++){var a=t[i];if(a&&B(a.processTelemetry)){var o=new Bo(a,e);r.push(o),n&&n.setNext(o),n=o}}return r.length>0?r[0]:null}function Xc(t,e,r){var n=[],i=!r;if(t)for(;t;){var a=t.getPlugin();(i||a===r)&&(i=!0,n.push(a)),t=t.getNext()}return i||n.push(r),ia(n,e)}function Jc(t,e,r){var n=t,i=!1;return r&&t&&(n=[],R(t,function(a){(i||a===r)&&(i=!0,n.push(a))})),r&&!i&&(n||(n=[]),n.push(r)),ia(n,e)}var Mt,$n=I(()=>{"use strict";Zn();Ho();Le();Mt=function(){function t(e,r,n,i){var a=this,o=null;i!==null&&(e&&B(e.getPlugin)?o=Xc(e,a,i||e.getPlugin()):i?o=Jc(e,a,i):pe(i)&&(o=ia(e,a))),a.core=function(){return n},a.diagLog=function(){return Rt(n,r)},a.getCfg=function(){return r},a.getExtCfg=function(u,s){s===void 0&&(s={});var c;if(r){var l=r.extensionConfig;l&&u&&(c=l[u])}return c||s},a.getConfig=function(u,s,c){c===void 0&&(c=!1);var l,f=a.getExtCfg(u,null);return f&&!x(f[s])?l=f[s]:r&&!x(r[s])&&(l=r[s]),x(l)?c:l},a.hasNext=function(){return o!=null},a.getNext=function(){return o},a.setNext=function(u){o=u},a.processNext=function(u){var s=o;s&&(o=s.getNext(),s.processTelemetry(u,a))},a.createNew=function(u,s){return u===void 0&&(u=null),new t(u||o,r,n,s)}}return t}()});var Vo,Yn,aa=I(()=>{Vo="iKey",Yn="extensionConfig"});var ei,tt,oa=I(()=>{"use strict";$n();Le();aa();ei="getPlugin",tt=function(){function t(){var e=this,r=!1,n=null,i=null;e.core=null,e.diagLog=function(a){return e._getTelCtx(a).diagLog()},e.isInitialized=function(){return r},e.setInitialized=function(a){r=a},e.setNextPlugin=function(a){i=a},e.processNext=function(a,o){o?o.processNext(a):i&&B(i.processTelemetry)&&i.processTelemetry(a,null)},e._getTelCtx=function(a){a===void 0&&(a=null);var o=a;if(!o){var u=n||new Mt(null,{},e.core);i&&i[ei]?o=u.createNew(null,i[ei]):o=u.createNew(null,i)}return o},e._baseTelInit=function(a,o,u,s){a&&K(a,Yn,[],null,x),!s&&o&&(s=o.getProcessTelContext().getNext());var c=i;i&&i[ei]&&(c=i[ei]()),e.core=o,n=new Mt(s,a,o,c),r=!0}}return t.prototype.initialize=function(e,r,n,i){this._baseTelInit(e,r,n,i)},t}()});function $r(t,e){for(var r=[],n=null,i=t.getNext();i;){var a=i.getPlugin();a&&(n&&B(n[jo])&&B(a[sa])&&n[jo](a),(!B(a[Go])||!a[Go]())&&r.push(a),n=a,i=i.getNext())}R(r,function(o){o.initialize(t.getCfg(),t.core(),e,t.getNext())})}function ua(t){return t.sort(function(e,r){var n=0,i=B(r[sa]);return B(e[sa])?n=i?e[qo]-r[qo]:1:i&&(n=-1),n})}var sa,qo,jo,Go,ca=I(()=>{"use strict";Le();sa="processTelemetry",qo="priority",jo="setNextPlugin",Go="isInitialized"});var la,Qc,Ko,Wo=I(()=>{"use strict";ne();Te();oa();$n();ca();Le();la=500,Qc="Channel has invalid priority",Ko=function(t){z(e,t);function e(){var r=t.call(this)||this;r.identifier="ChannelControllerPlugin",r.priority=la;var n;W(e,r,function(u,s){u.setNextPlugin=function(c){},u.processTelemetry=function(c,l){n&&R(n,function(f){if(f.length>0){var m=r._getTelCtx(l).createNew(f);m.processNext(c)}})},u.getChannelControls=function(){return n},u.initialize=function(c,l,f){u.isInitialized()||(s.initialize(c,l,f),o((c||{}).channels,f),R(n,function(m){return $r(new Mt(m,c,l),f)}))}});function i(u){R(u,function(s){s.priority<la&&De(Qc+s.identifier)})}function a(u){u&&u.length>0&&(u=u.sort(function(s,c){return s.priority-c.priority}),i(u),n.push(u))}function o(u,s){if(n=[],u&&R(u,function(l){return a(l)}),s){var c=[];R(s,function(l){l.priority>la&&c.push(l)}),a(c)}}return r}return e._staticInit=function(){var r=e.prototype;St(r,"ChannelControls",r.getChannelControls),St(r,"channelQueue",r.getChannelControls)}(),e}(tt)});function va(t,e){var r=cr[Kt]||ni[Kt];return r||(r=cr[Kt]=cr(t,e),ni[Kt]=r),r}function ri(t){return t?t.isEnabled():!0}function Zc(t){var e=t.cookieCfg=t.cookieCfg||{};if(K(e,"domain",t.cookieDomain,ji,x),K(e,"path",t.cookiePath||"/",null,x),x(e[da])){var r=void 0;pe(t[Qo])||(r=!t[Qo]),pe(t[Zo])||(r=!t[Zo]),e[da]=r}return e}function lr(t,e){var r;if(t)r=t.getCookieMgr();else if(e){var n=e.cookieCfg;n[Kt]?r=n[Kt]:r=cr(e)}return r||(r=va(e,(t||{}).logger)),r}function cr(t,e){var r=Zc(t||ni),n=r.path||"/",i=r.domain,a=r[da]!==!1,o={isEnabled:function(){var u=a&&ma(e),s=ni[Kt];return u&&s&&o!==s&&(u=ri(s)),u},setEnabled:function(u){a=u!==!1},set:function(u,s,c,l,f){if(ri(o)){var m={},C=se(s||ht),E=C.indexOf(";");if(E!==-1&&(C=se(s.substring(0,E)),m=ns(s.substring(E+1))),K(m,"domain",l||i,Ar,pe),!x(c)){var P=Gt();if(pe(m[fa])){var p=de(),v=p+c*1e3;if(v>0){var y=new Date;y.setTime(v),K(m,fa,es(y,P?Xo:Jo)||es(y,P?Xo:Jo)||ht,Ar)}}P||K(m,"max-age",ht+c,null,pe)}var w=et();w&&w.protocol==="https:"&&(K(m,"secure",null,null,pe),pa===null&&(pa=!ii((_e()||{}).userAgent)),pa&&K(m,"SameSite","None",null,pe)),K(m,"path",f||n,null,pe);var L=r.setCookie||rs;L(u,ts(C,m))}},get:function(u){var s=ht;return ri(o)&&(s=(r.getCookie||$c)(u)),s},del:function(u,s){ri(o)&&o.purge(u,s)},purge:function(u,s){if(ma(e)){var c=(f={},f.path=s||"/",f[fa]="Thu, 01 Jan 1970 00:00:01 GMT",f);Gt()||(c["max-age"]="0");var l=r.delCookie||rs;l(u,ts(ht,c))}var f}};return o[Kt]=o,o}function ma(t){if(ti===null){ti=!1;try{var e=Yr||{};ti=e[ga]!==void 0}catch(r){t&&t.throwInternal(S.WARNING,h.CannotAccessCookie,"Cannot access document.cookie - "+G(r),{exception:O(r)})}}return ti}function ns(t){var e={};if(t&&t.length){var r=se(t).split(";");R(r,function(n){if(n=se(n||ht),n){var i=n.indexOf("=");i===-1?e[n]=null:e[se(n.substring(0,i))]=se(n.substring(i+1))}})}return e}function es(t,e){return B(t[e])?t[e]():null}function ts(t,e){var r=t||ht;return Y(e,function(n,i){r+="; "+n+(x(i)?ht:"="+i)}),r}function $c(t){var e=ht;if(Yr){var r=Yr[ga]||ht;$o!==r&&(Yo=ns(r),$o=r),e=se(Yo[t]||ht)}return e}function rs(t,e){Yr&&(Yr[ga]=t+"="+e)}function ii(t){return U(t)?!!(Ee(t,"CPU iPhone OS 12")||Ee(t,"iPad; CPU OS 12")||Ee(t,"Macintosh; Intel Mac OS X 10_14")&&Ee(t,"Version/")&&Ee(t,"Safari")||Ee(t,"Macintosh; Intel Mac OS X 10_14")&&Ki(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ee(t,"Chrome/5")||Ee(t,"Chrome/6")||Ee(t,"UnrealEngine")&&!Ee(t,"Chrome")||Ee(t,"UCBrowser/12")||Ee(t,"UCBrowser/11")):!1}var Xo,Jo,ga,fa,da,Qo,Zo,Kt,ht,ti,pa,$o,Yr,Yo,ni,ai=I(()=>{Kr();Dr();Le();Xo="toGMTString",Jo="toUTCString",ga="cookie",fa="expires",da="enabled",Qo="isCookieUseDisabled",Zo="disableCookiesUsage",Kt="_ckMgr",ht="",ti=null,pa=null,$o=null,Yr=Ne(),Yo={},ni={}});var Yc,is,en,ha=I(()=>{"use strict";ne();Te();Wo();$n();ca();Zr();ai();Le();aa();Yc="Extensions must provide callback to initialize",is="_notificationManager",en=function(){function t(){var e=!1,r,n,i,a,o;W(t,this,function(u){u._extensions=new Array,n=new Ko,u.logger=Dt({throwInternal:function(s,c,l,f,m){m===void 0&&(m=!1)},warnToConsole:function(s){},resetInternalMessageCount:function(){}}),r=[],u.isInitialized=function(){return e},u.initialize=function(s,c,l,f){u.isInitialized()&&De("Core should not be initialized more than once"),(!s||x(s.instrumentationKey))&&De("Please provide instrumentation key"),i=f,u[is]=f,u.config=s||{},s.extensions=x(s.extensions)?[]:s.extensions;var m=ge(s,Yn);m.NotificationManager=f,l&&(u.logger=l);var C=[];C.push.apply(C,c.concat(s.extensions)),C=ua(C);var E=[],P=[],p={};R(C,function(v){(x(v)||x(v.initialize))&&De(Yc);var y=v.priority,w=v.identifier;v&&y&&(x(p[y])?p[y]=w:l.warnToConsole("Two extensions have same priority #"+y+" - "+p[y]+", "+w)),!y||y<n.priority?E.push(v):P.push(v)}),C.push(n),E.push(n),C=ua(C),u._extensions=C,$r(new Mt([n],s,u),C),$r(new Mt(E,s,u),C),u._extensions=E,u.getTransmissionControls().length===0&&De("No channels available"),e=!0,u.releaseQueue()},u.getTransmissionControls=function(){return n.getChannelControls()},u.track=function(s){K(s,Vo,u.config.instrumentationKey,null,Wn),K(s,"time",Me(new Date),null,Wn),K(s,"ver","4.0",null,x),u.isInitialized()?u.getProcessTelContext().processNext(s):r.push(s)},u.getProcessTelContext=function(){var s=u._extensions,c=s;return(!s||s.length===0)&&(c=[n]),new Mt(c,u.config,u)},u.getNotifyMgr=function(){return i||(i=Dt({addNotificationListener:function(s){},removeNotificationListener:function(s){},eventsSent:function(s){},eventsDiscarded:function(s,c){},eventsSendRequest:function(s,c){}}),u[is]=i),i},u.getCookieMgr=function(){return o||(o=cr(u.config,u.logger)),o},u.setCookieMgr=function(s){o=s},u.getPerfMgr=function(){return a||u.config&&u.config.enablePerfMgr&&(a=new Qr(u.getNotifyMgr())),a},u.setPerfMgr=function(s){a=s},u.eventCnt=function(){return r.length},u.releaseQueue=function(){r.length>0&&(R(r,function(s){u.getProcessTelContext().processNext(s)}),r=[])}})}return t}()});var tn,xa=I(()=>{Te();Le();tn=function(){function t(e){this.listeners=[];var r=!!(e||{}).perfEvtsSendAll;W(t,this,function(n){n.addNotificationListener=function(i){n.listeners.push(i)},n.removeNotificationListener=function(i){for(var a=kt(n.listeners,i);a>-1;)n.listeners.splice(a,1),a=kt(n.listeners,i)},n.eventsSent=function(i){R(n.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i)},0)})},n.eventsDiscarded=function(i,a){R(n.listeners,function(o){o&&o.eventsDiscarded&&setTimeout(function(){return o.eventsDiscarded(i,a)},0)})},n.eventsSendRequest=function(i,a){R(n.listeners,function(o){if(o&&o.eventsSendRequest)if(a)setTimeout(function(){return o.eventsSendRequest(i,a)},0);else try{o.eventsSendRequest(i,a)}catch(u){}})},n.perfEvent=function(i){i&&(r||!i.isChildEvt())&&R(n.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i)},0);else try{a.perfEvent(i)}catch(o){}})}})}return t}()});var rn,as=I(()=>{ne();ha();Io();xa();Zr();Zn();Te();Le();rn=function(t){z(e,t);function e(){var r=t.call(this)||this;return W(e,r,function(n,i){n.initialize=function(u,s,c,l){i.initialize(u,s,c||new Qn(u),l||new tn(u))},n.track=function(u){ut(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){u===null&&(o(u),De("Invalid telemetry item")),a(u),i.track(u)},function(){return{item:u}},!u.sync)},n.addNotificationListener=function(u){var s=n.getNotifyMgr();s&&s.addNotificationListener(u)},n.removeNotificationListener=function(u){var s=n.getNotifyMgr();s&&s.removeNotificationListener(u)},n.pollInternalLogs=function(u){var s=n.config.diagnosticLogInterval;return(!s||!(s>0))&&(s=1e4),setInterval(function(){var c=n.logger?n.logger.queue:[];R(c,function(l){var f={name:u||"InternalMessageId: "+l.messageId,iKey:n.config.instrumentationKey,time:Me(new Date),baseType:Ft.dataType,baseData:{message:l.message}};n.track(f)}),c.length=0},s)};function a(u){if(x(u.name))throw o(u),Error("telemetry name required")}function o(u){var s=n.getNotifyMgr();s&&s.eventsDiscarded([u],So.InvalidEvent)}}),r}return e}(en)});function us(t){t<0&&(t>>>=0),nn=123456789+t&Wt,an=987654321-t&Wt,ss=!0}function cs(){try{var t=de()&2147483647;us((Math.random()*os^t)+t)}catch(e){}}function oi(t){return t>0?Math.floor(Ct()/Wt*(t+1))>>>0:0}function Ct(t){var e,r=ea()||ta();return r&&r.getRandomValues?e=r.getRandomValues(new Uint32Array(1))[0]&Wt:Gt()?(ss||cs(),e=si()&Wt):e=Math.floor(os*Math.random()|0),t||(e>>>=0),e}function ya(t){t?us(t):cs()}function si(t){an=36969*(an&65535)+(an>>16)&Wt,nn=18e3*(nn&65535)+(nn>>16)&Wt;var e=(an<<16)+(nn&65535)>>>0&Wt|0;return t||(e>>>=0),e}var os,Wt,ss,nn,an,Sa=I(()=>{Dr();Le();os=4294967296,Wt=4294967295,ss=!1,nn=123456789,an=987654321});function Lt(t,e){var r=!1,n=It();n&&(r=Vt(n,t,e),r=Vt(n.body,t,e)||r);var i=Ne();return i&&(r=Jt.Attach(i,t,e)||r),r}function ls(){function t(){return oi(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(el,function(e){var r=t()|0,n=e==="x"?r:r&3|8;return n.toString(16)})}function fs(){var t=Qe();return t&&t.now?t.now():de()}function Xt(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Ct()>>>0,n=0,i="";i.length<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(Ct()<<2&4294967295|r&3)>>>0,n=0);return i}function ze(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e="",r,n=0;n<4;n++)r=Ct(),e+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var i=t[8+(Ct()&3)|0];return e.substr(0,8)+e.substr(9,4)+"4"+e.substr(13,3)+i+e.substr(16,3)+e.substr(19,12)}function Qt(t,e){var r=va(t,e),n=un._canUseCookies;return on===null&&(on=[],sn=n,St(un,"_canUseCookies",function(){return sn},function(i){sn=i,R(on,function(a){a.setEnabled(i)})})),kt(on,r)===-1&&on.push(r),Wr(n)&&r.setEnabled(n),Wr(sn)&&r.setEnabled(sn),r}function ui(){Qt().setEnabled(!1)}function Ia(t){return Qt(null,t).isEnabled()}function Ca(t,e){return Qt(null,t).get(e)}function Ta(t,e,r,n){Qt(null,t).set(e,r,null,n)}function Ea(t,e){return Qt(null,t).del(e)}var on,sn,un,el,Jt,ps=I(()=>{"use strict";ne();ai();Dr();Le();Sa();on=null;un={_canUseCookies:void 0,isTypeof:qi,isUndefined:pe,isNullOrUndefined:x,hasOwnProperty:br,isFunction:B,isObject:st,isDate:Pr,isArray:Re,isError:qt,isString:U,isNumber:ar,isBoolean:Wr,toISOString:Me,arrForEach:R,arrIndexOf:kt,arrMap:jt,arrReduce:Xr,strTrim:se,objCreate:Dt,objKeys:Ye,objDefineAccessors:St,addEventHandler:Lt,dateNow:de,isIE:Gt,disableCookies:ui,newGuid:ls,perfNow:fs,newId:Xt,randomValue:oi,random32:Ct,mwcRandomSeed:ya,mwcRandom32:si,generateW3CId:ze},el=/[xy]/g,Jt={Attach:Vt,AttachEvent:Vt,Detach:Kn,DetachEvent:Kn}});function ba(t,e){if(t)for(var r=0;r<t.length&&!e(t[r],r);r++);}function wa(t,e,r,n,i){i>=0&&i<=2&&ba(t,function(a,o){var u=a.cbks,s=u[ms[i]];if(s){e.ctx=function(){var f=n[o]=n[o]||{};return f};try{s.apply(e.inst,r)}catch(f){var c=e.err;try{var l=u[ms[2]];l&&(e.err=f,l.apply(e.inst,r))}catch(m){}finally{e.err=c}}}})}function nl(t){return function(){var e=this,r=arguments,n=t.h,i={name:t.n,inst:e,ctx:null,set:s},a=[],o=u([i],r);function u(l,f){return ba(f,function(m){l.push(m)}),l}function s(l,f){r=u([],r),r[l]=f,o=u([i],r)}wa(n,i,o,a,0);var c=t.f;try{i.rslt=c.apply(e,r)}catch(l){throw i.err=l,wa(n,i,o,a,3),l}return wa(n,i,o,a,1),i.rslt}}function il(t){if(t){if(gs)return gs(t);var e=t[tl]||t[Ce]||t[rl];if(e)return e}return null}function vs(t,e,r){var n=null;return t&&(br(t,e)?n=t:r&&(n=vs(il(t),e,!1))),n}function Pa(t,e,r){return t?cn(t[Ce],e,r,!1):null}function cn(t,e,r,n){if(n===void 0&&(n=!0),t&&e&&r){var i=vs(t,e,n);if(i){var a=i[e];if(typeof a===mt){var o=a[ds];if(!o){o={i:0,n:e,f:a,h:[]};var u=nl(o);u[ds]=o,i[e]=u}var s={id:o.i,cbks:r,rm:function(){var c=this.id;ba(o.h,function(l,f){if(l.id===c)return o.h.splice(f,1),1})}};return o.i++,o.h.push(s),s}}}return null}var ds,ms,tl,rl,gs,hs=I(()=>{ne();Le();ds="_aiHooks",ms=["req","rsp","hkErr","fnErr"],tl="__proto__",rl="constructor";gs=Object.getPrototypeOf});var X=I(()=>{as();ha();oa();Sa();ps();Le();Dr();ne();xa();Zr();Zn();Kr();hs();ai()});var te,Aa=I(()=>{te={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function ci(t,e,r){var n=e.length,i=Da(t,e);if(i.length!==n){for(var a=0,o=i;r[o]!==void 0;)a++,o=i.substring(0,150-3)+Na(a);i=o}return i}function Da(t,e){var r;return e&&(e=se(e.toString()),e.length>150&&(r=e.substring(0,150),t.throwInternal(S.WARNING,h.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:e},!0))),r||e}function oe(t,e,r){r===void 0&&(r=1024);var n;return e&&(r=r||1024,e=se(e),e.toString().length>r&&(n=e.toString().substring(0,r),t.throwInternal(S.WARNING,h.StringValueTooLong,"string value is too long. It has been truncated to "+r+" characters.",{value:e},!0))),n||e}function Tt(t,e){return pi(t,e,2048,h.UrlTooLong)}function kr(t,e){var r;return e&&e.length>32768&&(r=e.substring(0,32768),t.throwInternal(S.WARNING,h.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:e},!0)),r||e}function li(t,e){var r;if(e){var n=""+e;n.length>32768&&(r=n.substring(0,32768),t.throwInternal(S.WARNING,h.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:e},!0))}return r||e}function Be(t,e){if(e){var r={};Y(e,function(n,i){if(st(i)&&vt())try{i=be().stringify(i)}catch(a){t.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=oe(t,i,8192),n=ci(t,n,r),r[n]=i}),e=r}return e}function He(t,e){if(e){var r={};Y(e,function(n,i){n=ci(t,n,r),r[n]=i}),e=r}return e}function fi(t,e){return e&&pi(t,e,128,h.IdTooLong).toString()}function pi(t,e,r,n){var i;return e&&(e=se(e),e.length>r&&(i=e.substring(0,r),t.throwInternal(S.WARNING,n,"input is too long, it has been truncated to "+r+" characters.",{data:e},!0))),i||e}function Na(t){var e="00"+t;return e.substr(e.length-3)}var ka,ct=I(()=>{X();ka={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:ci,sanitizeKey:Da,sanitizeString:oe,sanitizeUrl:Tt,sanitizeMessage:kr,sanitizeException:li,sanitizeProperties:Be,sanitizeMeasurements:He,sanitizeId:fi,sanitizeInput:pi,padNumber:Na,trim:se}});function _t(t){var e=null;if(B(Event))e=new Event(t);else{var r=Ne();r&&r.createEvent&&(e=r.createEvent("Event"),e.initEvent(t,!0,!0))}return e}var Fa=I(()=>{X()});function ee(t,e){return e===void 0&&(e=!1),t==null?e:t.toString().toLowerCase()==="true"}function Ge(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=""+t%1e3,r=""+Math.floor(t/1e3)%60,n=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,a=Math.floor(t/(1e3*60*60*24));return e=e.length===1?"00"+e:e.length===2?"0"+e:e,r=r.length<2?"0"+r:r,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+n+":"+r+"."+e}function Fr(){var t=_e();return"sendBeacon"in t&&t.sendBeacon}function ln(t,e){var r=null;return R(t,function(n){if(n.identifier===e)return r=n,-1}),r}function fn(t,e,r,n,i){return!i&&U(t)&&(t==="Script error."||t==="Script error")}var pn=I(()=>{X()});var Et,fr,Ut,Rr,dn,le,lt=I(()=>{Et="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",fr="sampleRate",Ut="ProcessLegacy",Rr="http.method",dn="https://dc.services.visualstudio.com",le="not_specified"});var Zt,Ke,Ra=I(()=>{(function(t){t[t.LocalStorage=0]="LocalStorage",t[t.SessionStorage=1]="SessionStorage"})(Zt||(Zt={}));(function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C",t[t.W3C=2]="W3C"})(Ke||(Ke={}))});function Ma(){return Mr()?di(Zt.LocalStorage):null}function di(t){try{if(x(ot()))return null;var e=new Date,r=we(t===Zt.LocalStorage?"localStorage":"sessionStorage");r.setItem(e.toString(),e.toString());var n=r.getItem(e.toString())!==e.toString();if(r.removeItem(e.toString()),!n)return r}catch(i){}return null}function La(){return wt()?di(Zt.SessionStorage):null}function mn(){pr=!1,dr=!1}function Mr(){return pr===void 0&&(pr=!!di(Zt.LocalStorage)),pr}function gn(t,e){var r=Ma();if(r!==null)try{return r.getItem(e)}catch(n){pr=!1,t.throwInternal(S.WARNING,h.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+G(n),{exception:O(n)})}return null}function vn(t,e,r){var n=Ma();if(n!==null)try{return n.setItem(e,r),!0}catch(i){pr=!1,t.throwInternal(S.WARNING,h.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+G(i),{exception:O(i)})}return!1}function hn(t,e){var r=Ma();if(r!==null)try{return r.removeItem(e),!0}catch(n){pr=!1,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+G(n),{exception:O(n)})}return!1}function wt(){return dr===void 0&&(dr=!!di(Zt.SessionStorage)),dr}function _a(){var t=[];return wt()&&Y(we("sessionStorage"),function(e){t.push(e)}),t}function $t(t,e){var r=La();if(r!==null)try{return r.getItem(e)}catch(n){dr=!1,t.throwInternal(S.WARNING,h.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+G(n),{exception:O(n)})}return null}function Yt(t,e,r){var n=La();if(n!==null)try{return n.setItem(e,r),!0}catch(i){dr=!1,t.throwInternal(S.WARNING,h.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+G(i),{exception:O(i)})}return!1}function xn(t,e){var r=La();if(r!==null)try{return r.removeItem(e),!0}catch(n){dr=!1,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+G(n),{exception:O(n)})}return!1}var pr,dr,Ua=I(()=>{X();Ra();pr=void 0,dr=void 0});function mr(t){var e=ys,r=al,n=r[e];return xs.createElement?r[e]||(n=r[e]=xs.createElement("a")):n={host:mi(t,!0)},n.href=t,e++,e>=r.length&&(e=0),ys=e,n}function yn(t){var e,r=mr(t);return r&&(e=r.href),e}function Oa(t){var e,r=mr(t);return r&&(e=r.pathname),e}function Sn(t,e){return t?t.toUpperCase()+" "+e:e}function mi(t,e){var r=In(t,e)||"";if(r){var n=r.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>3&&U(n[2])&&n[2].length>0)return n[2]+(n[3]||"")}return r}function In(t,e){var r=null;if(t){var n=t.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>2&&U(n[2])&&n[2].length>0&&(r=n[2]||"",e&&n.length>2)){var i=(n[1]||"").toLowerCase(),a=n[3]||"";(i==="http"&&a===":80"||i==="https"&&a===":443")&&(a=""),r+=a}}return r}var xs,ys,al,za=I(()=>{X();xs=Ne()||{},ys=0,al=[null,null,null,null,null]});function Lr(t){return ol.indexOf(t.toLowerCase())!==-1}function Ss(t,e,r,n){var i,a=n,o=n;if(e&&e.length>0){var u=mr(e);if(i=u.host,!a)if(u.pathname!=null){var s=u.pathname.length===0?"/":u.pathname;s.charAt(0)!=="/"&&(s="/"+s),o=u.pathname,a=oe(t,r?r+" "+s:s)}else a=oe(t,e)}else i=n,a=n;return{target:i,name:a,data:o}}function gr(){var t=Qe();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return de()}function ve(t,e){var r=null;return t!==0&&e!==0&&!x(t)&&!x(e)&&(r=e-t),r}var ol,Cn,Ba,bt,Ha,Va=I(()=>{X();Aa();ct();Fa();pn();lt();Ua();za();ol=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];Cn={NotSpecified:le,createDomEvent:_t,disableStorage:mn,isInternalApplicationInsightsEndpoint:Lr,canUseLocalStorage:Mr,getStorage:gn,setStorage:vn,removeStorage:hn,canUseSessionStorage:wt,getSessionStorageKeys:_a,getSessionStorage:$t,setSessionStorage:Yt,removeSessionStorage:xn,disableCookies:ui,canUseCookies:Ia,disallowsSameSiteNone:ii,setCookie:Ta,stringToBoolOrDefault:ee,getCookie:Ca,deleteCookie:Ea,trim:se,newId:Xt,random32:function(){return Ct(!0)},generateW3CId:ze,isArray:Re,isError:qt,isDate:Pr,toISOStringForIE8:Me,getIEVersion:sr,msToTimeSpan:Ge,isCrossOriginError:fn,dump:O,getExceptionName:G,addEventHandler:Vt,IsBeaconApiSupported:Fr,getExtension:ln},Ba={parseUrl:mr,getAbsoluteUrl:yn,getPathName:Oa,getCompleteUrl:Sn,parseHost:mi,parseFullHost:In},bt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(t,e,r){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t.correlationHeaderExcludePatterns){for(var n=0;n<t.correlationHeaderExcludePatterns.length;n++)if(t.correlationHeaderExcludePatterns[n].test(e))return!1}var i=mr(e).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(In(e,!0)||"").toLowerCase()),(!t||!t.enableCorsCorrelation)&&i&&i!==r)return!1;var a=t&&t.correlationHeaderDomains;if(a){var o;if(R(a,function(c){var l=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||l.test(i)}),!o)return!1}var u=t&&t.correlationHeaderExcludedDomains;if(!u||u.length===0)return!0;for(var n=0;n<u.length;n++){var s=new RegExp(u[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(s.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(t){if(t){var e=bt.getCorrelationContextValue(t,te.requestContextTargetKey);if(e&&e!==bt.correlationIdPrefix)return e}},getCorrelationContextValue:function(t,e){if(t)for(var r=t.split(","),n=0;n<r.length;++n){var i=r[n].split("=");if(i.length===2&&i[0]===e)return i[1]}}};Ha={Now:gr,GetDuration:ve}});function gi(t){if(!t)return{};var e=t.split(sl),r=Xr(e,function(i,a){var o=a.split(ul);if(o.length===2){var u=o[0].toLowerCase(),s=o[1];i[u]=s}return i},{});if(Ye(r).length>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+n+"dc."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||dn}return r}var sl,ul,qa,Is=I(()=>{lt();X();sl=";",ul="=";qa={parse:gi}});var Tn,ja=I(()=>{Tn=function(){function t(){}return t}()});var En,Ga=I(()=>{ne();ja();En=function(t){z(e,t);function e(){return t.call(this)||this}return e}(Tn)});var Cs,Ts=I(()=>{Cs=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={}}return t}()});var wn,Es=I(()=>{ne();Ts();ct();X();lt();wn=function(t){z(e,t);function e(r,n,i){var a=t.call(this)||this;return a.name=oe(r,i)||le,a.data=n,a.time=Me(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return a.sampleRate===100?4:1},tags:1,data:1},a}return e}(Cs)});var vi,Ka=I(()=>{vi=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()});var Ve,ws=I(()=>{ne();Ka();ct();lt();Ve=function(t){z(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=oe(r,n)||le,o.properties=Be(r,i),o.measurements=He(r,a),o}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(vi)});var bs,Ps=I(()=>{bs=function(){function t(){}return t}()});var As,Ds=I(()=>{As=function(){function t(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return t}()});var Ns,ks=I(()=>{Ns=function(){function t(){this.hasFullStack=!0,this.parsedStack=[]}return t}()});function Qa(t,e){var r=t;return r&&!U(r)&&(JSON&&JSON.stringify?(r=JSON.stringify(t),e&&(!r||r==="{}")&&(B(t.toString)?r=t.toString():r=""+t)):r=""+t+" - (Missing JSON.stringify)"),r||""}function _s(t,e){var r=t;return t&&(r=t[Ja]||t[Ls]||"",r&&!U(r)&&(r=Qa(r,!0)),t.filename&&(r=r+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&(r||"").indexOf(e)===-1&&(r=e+": "+r),r||""}function ll(t){return st(t)?"hasFullStack"in t&&"typeName"in t:!1}function fl(t){return st(t)?"ver"in t&&"exceptions"in t&&"properties"in t:!1}function Rs(t){return t&&t.src&&U(t.src)&&t.obj&&Re(t.obj)}function _r(t){var e=t||"";U(e)||(U(e[ft])?e=e[ft]:e=""+e);var r=e.split(`
`);return{src:e,obj:r}}function pl(t){for(var e=[],r=t.split(`
`),n=0;n<r.length;n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),e.push(i)}return{src:t,obj:e}}function Us(t){var e=null;if(t)try{if(t[ft])e=_r(t[ft]);else if(t[Ur]&&t[Ur][ft])e=_r(t[Ur][ft]);else if(t.exception&&t.exception[ft])e=_r(t.exception[ft]);else if(Rs(t))e=t;else if(Rs(t[Xa]))e=t[Xa];else if(window.opera&&t[Ja])e=pl(t.message);else if(U(t))e=_r(t);else{var r=t[Ja]||t[Ls]||"";U(t[Fs])&&(r&&(r+=`
`),r+=" from "+t[Fs]),r&&(e=_r(r))}}catch(n){e=_r(n)}return e||{src:"",obj:null}}function dl(t){var e="";return t&&(t.obj?R(t.obj,function(r){e+=r+`
`}):e=t.src||""),e}function ml(t){var e,r=t.obj;if(r&&r.length>0){e=[];var n=0,i=0;R(r,function(E){var P=E.toString();if(Za.regex.test(P)){var p=new Za(P,n++);i+=p.sizeInBytes,e.push(p)}});var a=32*1024;if(i>a)for(var o=0,u=e.length-1,s=0,c=o,l=u;o<u;){var f=e[o].sizeInBytes,m=e[u].sizeInBytes;if(s+=f+m,s>a){var C=l-c+1;e.splice(c,C);break}c=o,l=u,o++,u--}}return e}function hi(t){var e="";if(t&&(e=t.typeName||t.name||"",!e))try{var r=/function (.{1,200})\(/,n=r.exec(t.constructor.toString());e=n&&n.length>1?n[1]:""}catch(i){}return e}function Wa(t){if(t)try{if(!U(t)){var e=hi(t),r=Qa(t,!1);return(!r||r==="{}")&&(t[Ur]&&(t=t[Ur],e=hi(t)),r=Qa(t,!0)),r.indexOf(e)!==0&&e!=="String"?e+":"+r:r}}catch(n){}return""+(t||"")}var cl,Ur,ft,Xa,Fs,Ja,Ls,he,Ms,Za,Os=I(()=>{ne();Ps();Ds();ks();ct();X();lt();cl="<no_method>",Ur="error",ft="stack",Xa="stackDetails",Fs="errorSrc",Ja="message",Ls="description";he=function(t){z(e,t);function e(r,n,i,a,o,u){var s=t.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},fl(n)?(s.exceptions=n.exceptions,s.properties=n.properties,s.measurements=n.measurements,n.severityLevel&&(s.severityLevel=n.severityLevel),n.id&&(s.id=n.id),n.problemGroup&&(s.problemGroup=n.problemGroup),s.ver=2,x(n.isManual)||(s.isManual=n.isManual)):(i||(i={}),s.exceptions=[new Ms(r,n,i)],s.properties=Be(r,i),s.measurements=He(r,a),o&&(s.severityLevel=o),u&&(s.id=u)),s}return e.CreateAutoException=function(r,n,i,a,o,u,s,c){var l=hi(o||u||r);return{message:_s(r,l),url:n,lineNumber:i,columnNumber:a,error:Wa(o||u||r),evt:Wa(u||r),typeName:l,stackDetails:Us(s||o||u),errorSrc:c}},e.CreateFromInterface=function(r,n,i,a){var o=n.exceptions&&jt(n.exceptions,function(s){return Ms.CreateFromInterface(r,s)}),u=new e(r,yt({},n,{exceptions:o}),i,a);return u},e.prototype.toInterface=function(){var r=this,n=r.exceptions,i=r.properties,a=r.measurements,o=r.severityLevel,u=r.ver,s=r.problemGroup,c=r.id,l=r.isManual,f=n instanceof Array&&jt(n,function(m){return m.toInterface()})||void 0;return{ver:"4.0",exceptions:f,severityLevel:o,properties:i,measurements:a,problemGroup:s,id:c,isManual:l}},e.CreateSimpleException=function(r,n,i,a,o,u){return{exceptions:[{hasFullStack:!0,message:r,stack:o,typeName:n}]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Wa,e}(As),Ms=function(t){z(e,t);function e(r,n,i){var a=t.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},ll(n))a.typeName=n.typeName,a.message=n.message,a[ft]=n[ft],a.parsedStack=n.parsedStack,a.hasFullStack=n.hasFullStack;else{var o=n,u=o&&o.evt;qt(o)||(o=o[Ur]||u||o),a.typeName=oe(r,hi(o))||le,a.message=kr(r,_s(n||o,a.typeName))||le;var s=n[Xa]||Us(n);a.parsedStack=ml(s),a[ft]=li(r,dl(s)),a.hasFullStack=Re(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName)}return a}return e.prototype.toInterface=function(){var r=this.parsedStack instanceof Array&&jt(this.parsedStack,function(i){return i.toInterface()}),n={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[ft],parsedStack:r||void 0};return n},e.CreateFromInterface=function(r,n){var i=n.parsedStack instanceof Array&&jt(n.parsedStack,function(o){return Za.CreateFromInterface(o)})||n.parsedStack,a=new e(r,yt({},n,{parsedStack:i}));return a},e}(Ns),Za=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof r=="string"){var a=r;i.level=n,i.method=cl,i.assembly=se(a),i.fileName="",i.line=0;var o=a.match(e.regex);o&&o.length>=5&&(i.method=se(o[2])||i.method,i.fileName=se(o[4]),i.line=parseInt(o[5])||0)}else i.level=r.level,i.method=r.method,i.assembly=r.assembly,i.fileName=r.fileName,i.line=r.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=e.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return e.CreateFromInterface=function(r){return new e(r,null)},e.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(bs)});var zs,Bs=I(()=>{zs=function(){function t(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return t}()});var xi,Hs=I(()=>{(function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"})(xi||(xi={}))});var Vs,qs=I(()=>{Hs();Vs=function(){function t(){this.kind=xi.Measurement}return t}()});var js,Gs=I(()=>{ne();qs();js=function(t){z(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},r}return e}(Vs)});var qe,Ks=I(()=>{ne();Bs();ct();Gs();lt();qe=function(t){z(e,t);function e(r,n,i,a,o,u,s,c){var l=t.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var f=new js;return f.count=a>0?a:void 0,f.max=isNaN(u)||u===null?void 0:u,f.min=isNaN(o)||o===null?void 0:o,f.name=oe(r,n)||le,f.value=i,l.metrics=[f],l.properties=Be(r,s),l.measurements=He(r,c),l}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(zs)});var vr,yi=I(()=>{ne();Ka();vr=function(t){z(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(vi)});var ke,Ws=I(()=>{ne();yi();ct();pn();lt();ke=function(t){z(e,t);function e(r,n,i,a,o,u,s){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=fi(r,s),c.url=Tt(r,i),c.name=oe(r,n)||le,isNaN(a)||(c.duration=Ge(a)),c.properties=Be(r,o),c.measurements=He(r,u),c}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(vr)});var Xs,Js=I(()=>{Xs=function(){function t(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return t}()});var je,Qs=I(()=>{ne();ct();Va();Js();pn();je=function(t){z(e,t);function e(r,n,i,a,o,u,s,c,l,f,m,C){l===void 0&&(l="Ajax");var E=t.call(this)||this;E.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},E.id=n,E.duration=Ge(o),E.success=u,E.resultCode=s+"",E.type=oe(r,l);var P=Ss(r,i,c,a);return E.data=Tt(r,a)||P.data,E.target=oe(r,P.target),f&&(E.target=E.target+" | "+f),E.name=oe(r,P.name),E.properties=Be(r,m),E.measurements=He(r,C),E}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(Xs)});var Zs,$s=I(()=>{Zs=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()});var Ze,Ys=I(()=>{ne();$s();ct();lt();Ze=function(t){z(e,t);function e(r,n,i,a,o){var u=t.call(this)||this;return u.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||le,u.message=kr(r,n),u.properties=Be(r,a),u.measurements=He(r,o),i&&(u.severityLevel=i),u}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(Zs)});var eu,tu=I(()=>{ne();yi();eu=function(t){z(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(vr)});var $e,ru=I(()=>{ne();tu();ct();lt();$e=function(t){z(e,t);function e(r,n,i,a,o,u,s){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Tt(r,i),c.name=oe(r,n)||le,c.properties=Be(r,o),c.measurements=He(r,u),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(eu)});var xt,nu=I(()=>{ne();Ga();xt=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=r,i.baseData=n,i}return e}(En)});var Ot,iu=I(()=>{(function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"})(Ot||(Ot={}))});var $a,au=I(()=>{X();$a=function(){function t(){}return t.getConfig=function(e,r,n,i){i===void 0&&(i=!1);var a;return n&&e.extensionConfig&&e.extensionConfig[n]&&!x(e.extensionConfig[n][r])?a=e.extensionConfig[n][r]:a=e[r],x(a)?i:a},t}()});function tr(t){var e="ai."+t+".";return function(r){return e+r}}var bn,Pe,Si,Or,Ya,er,hr,Pn,xr,eo=I(()=>{ne();X();bn=tr("application"),Pe=tr("device"),Si=tr("location"),Or=tr("operation"),Ya=tr("session"),er=tr("user"),hr=tr("cloud"),Pn=tr("internal"),xr=function(t){z(e,t);function e(){return t.call(this)||this}return e}(Wi({applicationVersion:bn("ver"),applicationBuild:bn("build"),applicationTypeId:bn("typeId"),applicationId:bn("applicationId"),applicationLayer:bn("layer"),deviceId:Pe("id"),deviceIp:Pe("ip"),deviceLanguage:Pe("language"),deviceLocale:Pe("locale"),deviceModel:Pe("model"),deviceFriendlyName:Pe("friendlyName"),deviceNetwork:Pe("network"),deviceNetworkName:Pe("networkName"),deviceOEMName:Pe("oemName"),deviceOS:Pe("os"),deviceOSVersion:Pe("osVersion"),deviceRoleInstance:Pe("roleInstance"),deviceRoleName:Pe("roleName"),deviceScreenResolution:Pe("screenResolution"),deviceType:Pe("type"),deviceMachineName:Pe("machineName"),deviceVMName:Pe("vmName"),deviceBrowser:Pe("browser"),deviceBrowserVersion:Pe("browserVersion"),locationIp:Si("ip"),locationCountry:Si("country"),locationProvince:Si("province"),locationCity:Si("city"),operationId:Or("id"),operationName:Or("name"),operationParentId:Or("parentId"),operationRootId:Or("rootId"),operationSyntheticSource:Or("syntheticSource"),operationCorrelationVector:Or("correlationVector"),sessionId:Ya("id"),sessionIsFirst:Ya("isFirst"),sessionIsNew:Ya("isNew"),userAccountAcquisitionDate:er("accountAcquisitionDate"),userAccountId:er("accountId"),userAgent:er("userAgent"),userId:er("id"),userStoreRegion:er("storeRegion"),userAuthUserId:er("authUserId"),userAnonymousUserAcquisitionDate:er("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:er("authUserAcquisitionDate"),cloudName:hr("name"),cloudRole:hr("role"),cloudRoleVer:hr("roleVer"),cloudRoleInstance:hr("roleInstance"),cloudEnvironment:hr("environment"),cloudLocation:hr("location"),cloudDeploymentUnit:hr("deploymentUnit"),internalNodeName:Pn("nodeName"),internalSdkVersion:Pn("sdkVersion"),internalAgentVersion:Pn("agentVersion"),internalSnippet:Pn("snippet"),internalSdkSrc:Pn("sdkSrc")}))});var rt,ou=I(()=>{ct();X();lt();rt=function(){function t(){}return t.create=function(e,r,n,i,a,o){if(n=oe(i,n)||le,x(e)||x(r)||x(n))throw Error("Input doesn't contain all required fields");var u={name:n,time:Me(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:r,baseData:e};return x(a)||Y(a,function(s,c){u.data[s]=c}),u},t}()});var Ue,re,su=I(()=>{eo();Ue={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},re=new xr});var zt,zr,Ii,xe=I(()=>{Va();Is();Aa();lt();Ga();ja();Es();ws();Os();Ks();Ws();yi();Qs();Ys();ru();nu();iu();au();eo();ct();ou();su();Ra();pn();Fa();Ua();za();zt="AppInsightsPropertiesPlugin",zr="AppInsightsChannelPlugin",Ii="ApplicationInsightsAnalytics"});var uu,cu=I(()=>{xe();X();Te();uu=function(){function t(e,r,n,i){W(t,this,function(a){var o=null,u=[],s=!1,c;n&&(c=n.logger);function l(){n&&R(n.getTransmissionControls(),function(m){R(m,function(C){return C.flush(!0)})})}function f(m){u.push(m),o||(o=setInterval(function(){var C=u.slice(0),E=!1;u=[],R(C,function(P){P()?E=!0:u.push(P)}),u.length===0&&(clearInterval(o),o=null),E&&l()},100))}a.trackPageView=function(m,C){var E=m.name;if(x(E)||typeof E!="string"){var P=Ne();E=m.name=P&&P.title||""}var p=m.uri;if(x(p)||typeof p!="string"){var v=et();p=m.uri=v&&v.href||""}if(!i.isPerformanceTimingSupported()){e.sendPageViewInternal(m,C),l(),c.throwInternal(S.WARNING,h.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var y=!1,w,L=i.getPerformanceTiming().navigationStart;L>0&&(w=ve(L,+new Date),i.shouldCollectDuration(w)||(w=void 0));var k;!x(C)&&!x(C.duration)&&(k=C.duration),(r||!isNaN(k))&&(isNaN(k)&&(C||(C={}),C.duration=w),e.sendPageViewInternal(m,C),l(),y=!0);var Q=6e4;C||(C={}),f(function(){var Se=!1;try{if(i.isPerformanceTimingDataReady()){Se=!0;var J={name:E,uri:p};i.populatePageViewPerformanceEvent(J),!J.isValid&&!y?(C.duration=w,e.sendPageViewInternal(m,C)):(y||(C.duration=J.durationMs,e.sendPageViewInternal(m,C)),s||(e.sendPageViewPerformanceInternal(J,C),s=!0))}else L>0&&ve(L,+new Date)>Q&&(Se=!0,y||(C.duration=Q,e.sendPageViewInternal(m,C)))}catch(me){c.throwInternal(S.CRITICAL,h.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+G(me),{exception:O(me)})}return Se})}})}return t}()});var lu,gl,fu=I(()=>{xe();X();lu=function(){function t(e,r){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=r,this._logger=e}return t.prototype.trackPreviousPageVisit=function(e,r){try{var n=this.restartPageVisitTimer(e,r);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+O(i))}},t.prototype.restartPageVisitTimer=function(e,r){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,r),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+O(i)),null}},t.prototype.startPageVisitTimer=function(e,r){try{if(wt()){$t(this._logger,this.prevPageVisitDataKeyName)!=null&&De("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new gl(e,r),i=be().stringify(n);Yt(this._logger,this.prevPageVisitDataKeyName,i)}}catch(a){this._logger.warnToConsole("Call to start failed: "+O(a))}},t.prototype.stopPageVisitTimer=function(){try{if(wt()){var e=de(),r=$t(this._logger,this.prevPageVisitDataKeyName);if(r&&vt()){var n=be().parse(r);return n.pageVisitTime=e-n.pageVisitStartTime,xn(this._logger,this.prevPageVisitDataKeyName),n}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+O(i)),null}},t}(),gl=function(){function t(e,r){this.pageVisitStartTime=de(),this.pageName=e,this.pageUrl=r}return t}()});var pu,du=I(()=>{xe();X();pu=function(){function t(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return t.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var r=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,a=0,o=0,u=0,s=0;(r||n)&&(r?(i=r.duration,a=r.startTime===0?r.connectEnd:ve(r.startTime,r.connectEnd),o=ve(r.requestStart,r.responseStart),u=ve(r.responseStart,r.responseEnd),s=ve(r.responseEnd,r.loadEventEnd)):(i=ve(n.navigationStart,n.loadEventEnd),a=ve(n.navigationStart,n.connectEnd),o=ve(n.requestStart,n.responseStart),u=ve(n.responseStart,n.responseEnd),s=ve(n.responseEnd,n.loadEventEnd)),i===0?this._logger.throwInternal(S.WARNING,h.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:o,response:u,dom:s}):this.shouldCollectDuration(i,a,o,u,s)?i<Math.floor(a)+Math.floor(o)+Math.floor(u)+Math.floor(s)?this._logger.throwInternal(S.WARNING,h.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:o,response:u,dom:s}):(e.durationMs=i,e.perfTotal=e.duration=Ge(i),e.networkConnect=Ge(a),e.sentRequest=Ge(o),e.receivedResponse=Ge(u),e.domProcessing=Ge(s),e.isValid=!0):this._logger.throwInternal(S.WARNING,h.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:o,response:u,dom:s}))},t.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Qe().timing:null},t.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Qe().getEntriesByType("navigation")[0]:null},t.prototype.isPerformanceNavigationTimingSupported=function(){var e=Qe();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},t.prototype.isPerformanceTimingSupported=function(){var e=Qe();return e&&e.timing},t.prototype.isPerformanceTimingDataReady=function(){var e=Qe(),r=e?e.timing:0;return r&&r.domainLookupStart>0&&r.navigationStart>0&&r.responseStart>0&&r.requestStart>0&&r.loadEventEnd>0&&r.responseEnd>0&&r.connectEnd>0&&r.domLoading>0},t.prototype.shouldCollectDuration=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=_e()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=n.userAgent,o=!1;if(a)for(var u=0;u<i.length;u++)o=o||a.toLowerCase().indexOf(i[u])!==-1;if(o)return!1;for(var u=0;u<e.length;u++)if(e[u]<0||e[u]>=this.MAX_DURATION_ALLOWED)return!1;return!0},t}()});function An(t,e){t&&t.dispatchEvent&&e&&t.dispatchEvent(e)}var mu,to,Dn,gu,vu=I(()=>{ne();xe();X();cu();fu();du();Te();mu="duration",to="event";Dn=function(t){z(e,t);function e(){var r=t.call(this)||this;r.identifier=Ii,r.priority=180,r.autoRoutePVDelay=500;var n,i,a,o=0,u,s;return W(e,r,function(c,l){var f=et(!0);u=f&&f.href||"",c.getCookieMgr=function(){return lr(c.core)},c.processTelemetry=function(p,v){ut(c.core,function(){return c.identifier+":processTelemetry"},function(){var y=!1,w=c._telemetryInitializers.length;v=c._getTelCtx(v);for(var L=0;L<w;++L){var k=c._telemetryInitializers[L];if(k)try{if(k.apply(null,[p])===!1){y=!0;break}}catch(Q){v.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(Q),{exception:O(Q)},!0)}}y||c.processNext(p,v)},function(){return{item:p}},!p.sync)},c.trackEvent=function(p,v){try{var y=rt.create(p,Ve.dataType,Ve.envelopeType,c.diagLog(),v);c.core.track(y)}catch(w){c.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)})}},c.startTrackEvent=function(p){try{n.start(p)}catch(v){c.diagLog().throwInternal(S.CRITICAL,h.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+G(v),{exception:O(v)})}},c.stopTrackEvent=function(p,v,y){try{n.stop(p,void 0,v)}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+G(w),{exception:O(w)})}},c.trackTrace=function(p,v){try{var y=rt.create(p,Ze.dataType,Ze.envelopeType,c.diagLog(),v);c.core.track(y)}catch(w){c.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)})}},c.trackMetric=function(p,v){try{var y=rt.create(p,qe.dataType,qe.envelopeType,c.diagLog(),v);c.core.track(y)}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+G(w),{exception:O(w)})}},c.trackPageView=function(p,v){try{var y=p||{};c._pageViewManager.trackPageView(y,yt({},y.properties,y.measurements,v)),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(y.name,y.uri)}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageView failed, page view will not be collected: "+G(w),{exception:O(w)})}},c.sendPageViewInternal=function(p,v,y){var w=Ne();w&&(p.refUri=p.refUri===void 0?w.referrer:p.refUri);var L=rt.create(p,ke.dataType,ke.envelopeType,c.diagLog(),v,y);c.core.track(L),o=0},c.sendPageViewPerformanceInternal=function(p,v,y){var w=rt.create(p,$e.dataType,$e.envelopeType,c.diagLog(),v,y);c.core.track(w)},c.trackPageViewPerformance=function(p,v){try{c._pageViewPerformanceManager.populatePageViewPerformanceEvent(p),c.sendPageViewPerformanceInternal(p,v)}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+G(y),{exception:O(y)})}},c.startTrackPage=function(p){try{if(typeof p!="string"){var v=Ne();p=v&&v.title||""}i.start(p)}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+G(y),{exception:O(y)})}},c.stopTrackPage=function(p,v,y,w){try{if(typeof p!="string"){var L=Ne();p=L&&L.title||""}if(typeof v!="string"){var k=et();v=k&&k.href||""}i.stop(p,v,y,w),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(p,v)}catch(Q){c.diagLog().throwInternal(S.CRITICAL,h.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+G(Q),{exception:O(Q)})}},c.sendExceptionInternal=function(p,v,y){var w=p.exception||p.error||new Error(le),L=new he(c.diagLog(),w,p.properties||v,p.measurements,p.severityLevel,p.id).toInterface(),k=rt.create(L,he.dataType,he.envelopeType,c.diagLog(),v,y);c.core.track(k)},c.trackException=function(p,v){try{c.sendExceptionInternal(p,v)}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.TrackExceptionFailed,"trackException failed, exception will not be collected: "+G(y),{exception:O(y)})}},c._onerror=function(p){var v=p&&p.error,y=p&&p.evt;try{if(!y){var w=It();w&&(y=w[to])}var L=p&&p.url||(Ne()||{}).URL,k=p.errorSrc||"window.onerror@"+L+":"+(p.lineNumber||0)+":"+(p.columnNumber||0),Q={errorSrc:k,url:L,lineNumber:p.lineNumber||0,columnNumber:p.columnNumber||0,message:p.message};fn(p.message,p.url,p.lineNumber,p.columnNumber,p.error)?P(he.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",L,p.lineNumber||0,p.columnNumber||0,v,y,null,k),Q):(p.errorSrc||(p.errorSrc=k),c.trackException({exception:p,severityLevel:Ot.Error},Q))}catch(J){var Se=v?v.name+", "+v.message:"null";c.diagLog().throwInternal(S.CRITICAL,h.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+G(J),{exception:O(J),errorString:Se})}},c.addTelemetryInitializer=function(p){c._telemetryInitializers.push(p)},c.initialize=function(p,v,y,w){if(!c.isInitialized()){if(x(v))throw Error("Error initializing");l.initialize(p,v,y,w),c.setInitialized(!1);var L=c._getTelCtx(),k=c.identifier;c.config=L.getExtCfg(k);var Q=e.getDefaultConfig(p);Q!==void 0&&Y(Q,function(A,H){c.config[A]=L.getConfig(k,A,H),c.config[A]===void 0&&(c.config[A]=H)}),c.config.isStorageUseDisabled&&mn();var Se={instrumentationKey:function(){return p.instrumentationKey},accountId:function(){return c.config.accountId||p.accountId},sessionRenewalMs:function(){return c.config.sessionRenewalMs||p.sessionRenewalMs},sessionExpirationMs:function(){return c.config.sessionExpirationMs||p.sessionExpirationMs},sampleRate:function(){return c.config.samplingPercentage||p.samplingPercentage},sdkExtension:function(){return c.config.sdkExtension||p.sdkExtension},isBrowserLinkTrackingEnabled:function(){return c.config.isBrowserLinkTrackingEnabled||p.isBrowserLinkTrackingEnabled},appId:function(){return c.config.appId||p.appId}};c._pageViewPerformanceManager=new pu(c.core),c._pageViewManager=new uu(r,c.config.overridePageViewDuration,c.core,c._pageViewPerformanceManager),c._pageVisitTimeManager=new lu(c.diagLog(),function(A,H,_){return m(A,H,_)}),c._telemetryInitializers=c._telemetryInitializers||[],C(Se),n=new gu(c.diagLog(),"trackEvent"),n.action=function(A,H,_,j){j||(j={}),j[mu]=_.toString(),c.trackEvent({name:A,properties:j})},i=new gu(c.diagLog(),"trackPageView"),i.action=function(A,H,_,j,Z){x(j)&&(j={}),j[mu]=_.toString();var ie={name:A,uri:H,properties:j,measurements:Z};c.sendPageViewInternal(ie,j)};var J=It(),me=$i(),Ae=et(!0),pt=r;if(c.config.disableExceptionTracking===!1&&!c.config.autoExceptionInstrumented&&J){var at="onerror",dt=J[at];J.onerror=function(A,H,_,j,Z){var ie=J[to],Bt=dt&&dt(A,H,_,j,Z);return Bt!==!0&&pt._onerror(he.CreateAutoException(A,H,_,j,Z,ie)),Bt},c.config.autoExceptionInstrumented=!0}if(c.config.disableExceptionTracking===!1&&c.config.enableUnhandledPromiseRejectionTracking===!0&&!c.config.autoUnhandledPromiseInstrumented&&J){var d="onunhandledrejection",T=J[d];J[d]=function(A){var H=J[to],_=T&&T.call(J,A);return _!==!0&&pt._onerror(he.CreateAutoException(A.reason.toString(),Ae?Ae.href:"",0,0,A,H)),_},c.config.autoUnhandledPromiseInstrumented=!0}if(c.config.enableAutoRouteTracking===!0&&me&&B(me.pushState)&&B(me.replaceState)&&J&&typeof Event!="undefined"){var D=r;R(y,function(A){A.identifier===zt&&(a=A)}),me.pushState=function(A){return function(){var _=A.apply(this,arguments);return An(J,_t(D.config.namePrefix+"pushState")),An(J,_t(D.config.namePrefix+"locationchange")),_}}(me.pushState),me.replaceState=function(A){return function(){var _=A.apply(this,arguments);return An(J,_t(D.config.namePrefix+"replaceState")),An(J,_t(D.config.namePrefix+"locationchange")),_}}(me.replaceState),J.addEventListener&&(J.addEventListener(D.config.namePrefix+"popstate",function(){An(J,_t(D.config.namePrefix+"locationchange"))}),J.addEventListener(D.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=ze();var A="_unknown_";Ae&&Ae.pathname&&(A=Ae.pathname+(Ae.hash||"")),a.context.telemetryTrace.name=A}s&&(u=s),s=Ae&&Ae.href||"",setTimeout(function(H){D.trackPageView({refUri:H,properties:{duration:0}})}.bind(r,u),D.autoRoutePVDelay)}))}c.setInitialized(!0)}};function m(p,v,y){var w={PageName:p,PageUrl:v};c.trackMetric({name:"PageVisitTime",average:y,max:y,min:y,sampleCount:1},w)}function C(p){if(!p.isBrowserLinkTrackingEnabled()){var v=["/browserLinkSignalR/","/__browserLink/"],y=function(w){if(w.baseType===je.dataType){var L=w.baseData;if(L){for(var k=0;k<v.length;k++)if(L.target&&L.target.indexOf(v[k])>=0)return!1}}return!0};E(y)}}function E(p){c._telemetryInitializers.push(p)}function P(p,v){var y=rt.create(p,he.dataType,he.envelopeType,c.diagLog(),v);c.core.track(y)}}),r}return e.getDefaultConfig=function(r){return r||(r={}),r.sessionRenewalMs=30*60*1e3,r.sessionExpirationMs=24*60*60*1e3,r.disableExceptionTracking=ee(r.disableExceptionTracking),r.autoTrackPageVisitTime=ee(r.autoTrackPageVisitTime),r.overridePageViewDuration=ee(r.overridePageViewDuration),r.enableUnhandledPromiseRejectionTracking=ee(r.enableUnhandledPromiseRejectionTracking),(isNaN(r.samplingPercentage)||r.samplingPercentage<=0||r.samplingPercentage>=100)&&(r.samplingPercentage=100),r.isStorageUseDisabled=ee(r.isStorageUseDisabled),r.isBrowserLinkTrackingEnabled=ee(r.isBrowserLinkTrackingEnabled),r.enableAutoRouteTracking=ee(r.enableAutoRouteTracking),r.namePrefix=r.namePrefix||"",r.enableDebug=ee(r.enableDebug),r.disableFlushOnBeforeUnload=ee(r.disableFlushOnBeforeUnload),r.disableFlushOnUnload=ee(r.disableFlushOnUnload,r.disableFlushOnBeforeUnload),r},e.Version="2.6.4",e}(tt),gu=function(){function t(e,r){var n=this,i={};n.start=function(a){typeof i[a]!="undefined"&&e.throwInternal(S.WARNING,h.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},!0),i[a]=+new Date},n.stop=function(a,o,u,s){var c=i[a];if(isNaN(c))e.throwInternal(S.WARNING,h.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},!0);else{var l=+new Date,f=ve(c,l);n.action(a,o,f,u,s)}delete i[a],i[a]=void 0}}return t}()});var ro=I(()=>{vu()});var hu,xu,yu=I(()=>{xe();X();Te();hu=function(){function t(e){var r=[];W(t,this,function(n){n.enqueue=function(i){r.push(i)},n.count=function(){return r.length},n.clear=function(){r.length=0},n.getItems=function(){return r.slice(0)},n.batchPayloads=function(i){if(i&&i.length>0){var a=e.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return a}return null},n.markAsSent=function(i){n.clear()},n.clearSent=function(i){}})}return t}(),xu=function(){function t(e,r){var n=!1,i;W(t,this,function(a){var o=c(t.BUFFER_KEY),u=c(t.SENT_BUFFER_KEY);i=o.concat(u),i.length>t.MAX_BUFFER_SIZE&&(i.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,[]),l(t.BUFFER_KEY,i),a.enqueue=function(f){if(i.length>=t.MAX_BUFFER_SIZE){n||(e.throwInternal(S.WARNING,h.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),n=!0);return}i.push(f),l(t.BUFFER_KEY,i)},a.count=function(){return i.length},a.clear=function(){i=[],l(t.BUFFER_KEY,[]),l(t.SENT_BUFFER_KEY,[]),n=!1},a.getItems=function(){return i.slice(0)},a.batchPayloads=function(f){if(f&&f.length>0){var m=r.emitLineDelimitedJson()?f.join(`
`):"["+f.join(",")+"]";return m}return null},a.markAsSent=function(f){i=s(f,i),l(t.BUFFER_KEY,i);var m=c(t.SENT_BUFFER_KEY);m instanceof Array&&f instanceof Array&&(m=m.concat(f),m.length>t.MAX_BUFFER_SIZE&&(e.throwInternal(S.CRITICAL,h.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+m.length,!0),m.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,m))},a.clearSent=function(f){var m=c(t.SENT_BUFFER_KEY);m=s(f,m),l(t.SENT_BUFFER_KEY,m)};function s(f,m){var C=[];return R(m,function(E){!B(E)&&kt(f,E)===-1&&C.push(E)}),C}function c(f){var m=f;try{m=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+m:m;var C=$t(e,m);if(C){var E=be().parse(C);if(U(E)&&(E=be().parse(E)),E&&Re(E))return E}}catch(P){e.throwInternal(S.CRITICAL,h.FailedToRestoreStorageBuffer," storage key: "+m+", "+G(P),{exception:O(P)})}return[]}function l(f,m){var C=f;try{C=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+C:C;var E=JSON.stringify(m);Yt(e,C,E)}catch(P){Yt(e,C,JSON.stringify([])),e.throwInternal(S.WARNING,h.FailedToSetStorageBuffer," storage key: "+C+", "+G(P)+". Buffer cleared",{exception:O(P)})}}})}return t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}()});function ye(t,e,r){return K(t,e,r,Ar)}var no,ue,Fe,Su,fe,Iu,io,Cu,Tu,Eu,wu,bu,Pu=I(()=>{ne();xe();X();no="baseType",ue="baseData",Fe="properties",Su="true";fe=function(){function t(){}return t.extractPropsAndMeasurements=function(e,r,n){x(e)||Y(e,function(i,a){ar(a)?n[i]=a:U(a)?r[i]=a:vt()&&(r[i]=be().stringify(a))})},t.createEnvelope=function(e,r,n,i){var a=new wn(e,i,r);ye(a,"sampleRate",n[fr]),(n[ue]||{}).startTime&&(a.time=Me(n[ue].startTime)),a.iKey=n.iKey;var o=n.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",o),t.extractPartAExtensions(n,a),n.tags=n.tags||[],Xn(a)},t.extractPartAExtensions=function(e,r){var n=r.tags=r.tags||{},i=e.ext=e.ext||{},a=e.tags=e.tags||[],o=i.user;o&&(ye(n,re.userAuthUserId,o.authId),ye(n,re.userId,o.id||o.localId));var u=i.app;u&&ye(n,re.sessionId,u.sesId);var s=i.device;s&&(ye(n,re.deviceId,s.id||s.localId),ye(n,re.deviceType,s.deviceClass),ye(n,re.deviceIp,s.ip),ye(n,re.deviceModel,s.model),ye(n,re.deviceType,s.deviceType));var c=e.ext.web;if(c){ye(n,re.deviceLanguage,c.browserLang),ye(n,re.deviceBrowserVersion,c.browserVer),ye(n,re.deviceBrowser,c.browser);var l=r.data=r.data||{},f=l[ue]=l[ue]||{},m=f[Fe]=f[Fe]||{};ye(m,"domain",c.domain),ye(m,"isManual",c.isManual?Su:null),ye(m,"screenRes",c.screenRes),ye(m,"userConsent",c.userConsent?Su:null)}var C=i.os;C&&ye(n,re.deviceOS,C.name);var E=i.trace;E&&(ye(n,re.operationParentId,E.parentID),ye(n,re.operationName,E.name),ye(n,re.operationId,E.traceID));for(var P={},p=a.length-1;p>=0;p--){var v=a[p];Y(v,function(w,L){P[w]=L}),a.splice(p,1)}Y(a,function(w,L){P[w]=L});var y=yt({},n,P);y[re.internalSdkVersion]||(y[re.internalSdkVersion]="javascript:"+t.Version),r.tags=Xn(y)},t.prototype.Init=function(e,r){this._logger=e,x(r[ue])&&this._logger.throwInternal(S.CRITICAL,h.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},t.Version="2.6.4",t}(),Iu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[ue].measurements||{},a=n[ue][Fe]||{};fe.extractPropsAndMeasurements(n.data,a,i);var o=n[ue];if(x(o))return r.warnToConsole("Invalid input for dependency data"),null;var u=o[Fe]&&o[Fe][Rr]?o[Fe][Rr]:"GET",s=new je(r,o.id,o.target,o.name,o.duration,o.success,o.responseCode,u,o.type,o.correlationContext,a,i),c=new xt(je.dataType,s);return fe.createEnvelope(r,je.envelopeType,n,c)},e.DependencyEnvelopeCreator=new e,e}(fe),io=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i={},a={};n[no]!==Ve.dataType&&(i.baseTypeSource=n[no]),n[no]===Ve.dataType?(i=n[ue][Fe]||{},a=n[ue].measurements||{}):n[ue]&&fe.extractPropsAndMeasurements(n[ue],i,a),fe.extractPropsAndMeasurements(n.data,i,a);var o=n[ue].name,u=new Ve(r,o,i,a),s=new xt(Ve.dataType,u);return fe.createEnvelope(r,Ve.envelopeType,n,s)},e.EventEnvelopeCreator=new e,e}(fe),Cu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[ue].measurements||{},a=n[ue][Fe]||{};fe.extractPropsAndMeasurements(n.data,a,i);var o=n[ue],u=he.CreateFromInterface(r,o,a,i),s=new xt(he.dataType,u);return fe.createEnvelope(r,he.envelopeType,n,s)},e.ExceptionEnvelopeCreator=new e,e}(fe),Tu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[ue],a=i[Fe]||{},o=i.measurements||{};fe.extractPropsAndMeasurements(n.data,a,o);var u=new qe(r,i.name,i.average,i.sampleCount,i.min,i.max,a,o),s=new xt(qe.dataType,u);return fe.createEnvelope(r,qe.envelopeType,n,s)},e.MetricEnvelopeCreator=new e,e}(fe),Eu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i="duration",a,o=n[ue];!x(o)&&!x(o[Fe])&&!x(o[Fe][i])?(a=o[Fe][i],delete o[Fe][i]):!x(n.data)&&!x(n.data[i])&&(a=n.data[i],delete n.data[i]);var u=n[ue],s;((n.ext||{}).trace||{}).traceID&&(s=n.ext.trace.traceID);var c=u.id||s,l=u.name,f=u.uri,m=u[Fe]||{},C=u.measurements||{};if(x(u.refUri)||(m.refUri=u.refUri),x(u.pageType)||(m.pageType=u.pageType),x(u.isLoggedIn)||(m.isLoggedIn=u.isLoggedIn.toString()),!x(u[Fe])){var E=u[Fe];Y(E,function(v,y){m[v]=y})}fe.extractPropsAndMeasurements(n.data,m,C);var P=new ke(r,l,f,a,m,C,c),p=new xt(ke.dataType,P);return fe.createEnvelope(r,ke.envelopeType,n,p)},e.PageViewEnvelopeCreator=new e,e}(fe),wu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[ue],a=i.name,o=i.uri||i.url,u=i[Fe]||{},s=i.measurements||{};fe.extractPropsAndMeasurements(n.data,u,s);var c=new $e(r,a,o,void 0,u,s,i),l=new xt($e.dataType,c);return fe.createEnvelope(r,$e.envelopeType,n,l)},e.PageViewPerformanceEnvelopeCreator=new e,e}(fe),bu=function(t){z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[ue].message,a=n[ue].severityLevel,o=n[ue][Fe]||{},u=n[ue].measurements||{};fe.extractPropsAndMeasurements(n.data,o,u);var s=new Ze(r,i,a,o,u),c=new xt(Ze.dataType,s);return fe.createEnvelope(r,Ze.envelopeType,n,c)},e.TraceEnvelopeCreator=new e,e}(fe)});var Au,Du=I(()=>{X();Te();Au=function(){function t(e){W(t,this,function(r){r.serialize=function(o){var u=n(o,"root");try{return be().stringify(u)}catch(s){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,s&&B(s.toString)?s.toString():"Error serializing object",null,!0)}};function n(o,u){var s="__aiCircularRefCheck",c={};if(!o)return e.throwInternal(S.CRITICAL,h.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:u},!0),c;if(o[s])return e.throwInternal(S.WARNING,h.CircularReferenceDetected,"Circular reference detected while serializing object",{name:u},!0),c;if(!o.aiDataContract){if(u==="measurements")c=a(o,"number",u);else if(u==="properties")c=a(o,"string",u);else if(u==="tags")c=a(o,"string",u);else if(Re(o))c=i(o,u);else{e.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:u},!0);try{be().stringify(o),c=o}catch(l){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,l&&B(l.toString)?l.toString():"Error serializing object",null,!0)}}return c}return o[s]=!0,Y(o.aiDataContract,function(l,f){var m=B(f)?f()&1:f&1,C=B(f)?f()&4:f&4,E=f&2,P=o[l]!==void 0,p=st(o[l])&&o[l]!==null;if(m&&!P&&!E)e.throwInternal(S.CRITICAL,h.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:l,name:u});else if(!C){var v=void 0;p?E?v=i(o[l],l):v=n(o[l],l):v=o[l],v!==void 0&&(c[l]=v)}}),delete o[s],c}function i(o,u){var s;if(o)if(!Re(o))e.throwInternal(S.CRITICAL,h.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:u},!0);else{s=[];for(var c=0;c<o.length;c++){var l=o[c],f=n(l,u+"["+c+"]");s.push(f)}}return s}function a(o,u,s){var c;return o&&(c={},Y(o,function(l,f){if(u==="string")f===void 0?c[l]="undefined":f===null?c[l]="null":f.toString?c[l]=f.toString():c[l]="invalid field: toString() is not defined.";else if(u==="number")if(f===void 0)c[l]="undefined";else if(f===null)c[l]="null";else{var m=parseFloat(f);isNaN(m)?c[l]="NaN":c[l]=m}else c[l]="invalid field: "+s+" is of unknown type.",e.throwInternal(S.CRITICAL,c[l],null,!0)})),c}})}return t}()});var vl,ao,Nu=I(()=>{X();Te();vl=function(){function t(){var e=It(),r=Ne(),n=!1,i=!0;W(t,this,function(a){try{if(e&&Jt.Attach(e,"online",s)&&(Jt.Attach(e,"offline",c),n=!0),r){var o=r.body||r;pe(o.ononline)||(o.ononline=s,o.onoffline=c,n=!0)}if(n){var u=_e();u&&!x(u.onLine)&&(i=u.onLine)}}catch(l){n=!1}a.isListening=n,a.isOnline=function(){var l=!0,f=_e();return n?l=i:f&&!x(f.onLine)&&(l=f.onLine),l},a.isOffline=function(){return!a.isOnline()};function s(){i=!0}function c(){i=!1}})}return t.Offline=new t,t}(),ao=vl.Offline});var ku,Fu=I(()=>{ku=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var r=this.getHashCode(e)/t.INT_MAX_VALUE;return r*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e.length<t.MIN_INPUT_LENGTH;)e=e.concat(e);for(var r=5381,n=0;n<e.length;++n)r=(r<<5)+r+e.charCodeAt(n),r=r&r;return Math.abs(r)},t.INT_MAX_VALUE=2147483647,t.MIN_INPUT_LENGTH=8,t}()});var Ru,Mu=I(()=>{Fu();xe();Ru=function(){function t(){this.hashCodeGeneragor=new ku,this.keys=new xr}return t.prototype.getSamplingScore=function(e){var r=0;return e.tags&&e.tags[this.keys.userId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):r=Math.random()*100,r},t}()});var Lu,_u=I(()=>{Mu();xe();X();Lu=function(){function t(e,r){this.INT_MAX_VALUE=2147483647,this._logger=r||Rt(null),(e>100||e<0)&&(this._logger.throwInternal(S.WARNING,h.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new Ru}return t.prototype.isSampledIn=function(e){var r=this.sampleRate,n=!1;return r==null||r>=100||e.baseType===qe.dataType?!0:(n=this.samplingScoreGenerator.getSamplingScore(e)<r,n)},t}()});function Ci(t){try{return t.responseText}catch(e){}return null}var Nn,Uu=I(()=>{ne();yu();Pu();Du();xe();X();Nu();_u();Te();Nn=function(t){z(e,t);function e(){var r=t.call(this)||this;r.priority=1001,r.identifier=zr,r._XMLHttpRequestSupported=!1;var n,i,a,o,u,s,c={};return W(e,r,function(l,f){function m(){De("Method not implemented.")}l.pause=m,l.resume=m,l.flush=function(){try{l.triggerSend(!0,null,1)}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FlushFailed,"flush failed, telemetry will not be collected: "+G(d),{exception:O(d)})}},l.onunloadFlush=function(){if((l._senderConfig.onunloadDisableBeacon()===!1||l._senderConfig.isBeaconApiDisabled()===!1)&&Fr())try{l.triggerSend(!0,p,2)}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+G(d),{exception:O(d)})}else l.flush()},l.teardown=m,l.addHeader=function(d,T){c[d]=T},l.initialize=function(d,T,D,A){f.initialize(d,T,D,A);var H=l._getTelCtx(),_=l.identifier;u=new Au(T.logger),n=0,i=null,a=0,l._sender=null,s=0;var j=e._getDefaultAppInsightsChannelConfig();if(l._senderConfig=e._getEmptyAppInsightsChannelConfig(),Y(j,function(g,b){l._senderConfig[g]=function(){return H.getConfig(_,g,b())}}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&wt()?new xu(l.diagLog(),l._senderConfig):new hu(l._senderConfig),l._sample=new Lu(l._senderConfig.samplingPercentage(),l.diagLog()),dt(d)||l.diagLog().throwInternal(S.CRITICAL,h.InvalidInstrumentationKey,"Invalid Instrumentation key "+d.instrumentationKey),!Lr(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&R(l._senderConfig.customHeaders(),function(g){r.addHeader(g.header,g.value)}),!l._senderConfig.isBeaconApiDisabled()&&Fr())l._sender=p;else{var Z=we("XMLHttpRequest");if(Z){var ie=new Z;"withCredentials"in ie?(l._sender=v,l._XMLHttpRequestSupported=!0):typeof XDomainRequest!==Oe&&(l._sender=me)}else{var Bt=we("fetch");Bt&&(l._sender=y)}}},l.processTelemetry=function(d,T){T=l._getTelCtx(T);try{if(l._senderConfig.disableTelemetry())return;if(!d){T.diagLog().throwInternal(S.CRITICAL,h.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(d.baseData&&!d.baseType){T.diagLog().throwInternal(S.CRITICAL,h.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(d.baseType||(d.baseType="EventData"),!l._sender){T.diagLog().throwInternal(S.CRITICAL,h.SenderNotInitialized,"Sender was not initialized");return}if(C(d))d[fr]=l._sample.sampleRate;else{T.diagLog().throwInternal(S.WARNING,h.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});return}var D=e.constructEnvelope(d,l._senderConfig.instrumentationKey(),T.diagLog());if(!D){T.diagLog().throwInternal(S.CRITICAL,h.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var A=!1;if(d.tags&&d.tags[Ut]&&(R(d.tags[Ut],function(Z){try{Z&&Z(D)===!1&&(A=!0,T.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(ie){T.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(ie),{exception:O(ie)},!0)}}),delete d.tags[Ut]),A)return;var H=u.serialize(D),_=l._buffer.getItems(),j=l._buffer.batchPayloads(_);j&&j.length+H.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),l._buffer.enqueue(H),Q()}catch(Z){T.diagLog().throwInternal(S.WARNING,h.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+G(Z),{exception:O(Z)})}l.processNext(d,T)},l._xhrReadyStateChange=function(d,T,D){d.readyState===4&&E(d.status,T,d.responseURL,D,J(d),Ci(d)||d.response)},l.triggerSend=function(d,T,D){d===void 0&&(d=!0);try{if(l._senderConfig.disableTelemetry())l._buffer.clear();else{if(l._buffer.count()>0){var A=l._buffer.getItems();at(D||0,d),T?T.call(r,A,d):l._sender(A,d)}a=+new Date}clearTimeout(o),o=null,i=null}catch(_){var H=sr();(!H||H>9)&&l.diagLog().throwInternal(S.CRITICAL,h.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+G(_),{exception:O(_)})}},l._onError=function(d,T,D){l.diagLog().throwInternal(S.WARNING,h.OnError,"Failed to send telemetry.",{message:T}),l._buffer.clearSent(d)},l._onPartialSuccess=function(d,T){for(var D=[],A=[],H=T.errors.reverse(),_=0,j=H;_<j.length;_++){var Z=j[_],ie=d.splice(Z.index,1)[0];Se(Z.statusCode)?A.push(ie):D.push(ie)}d.length>0&&l._onSuccess(d,T.itemsAccepted),D.length>0&&l._onError(D,J(null,["partial success",T.itemsAccepted,"of",T.itemsReceived].join(" "))),A.length>0&&(L(A),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,"Partial success. Delivered: "+d.length+", Failed: "+D.length+". Will retry to send "+A.length+" our of "+T.itemsReceived+" items"))},l._onSuccess=function(d,T){l._buffer.clearSent(d)},l._xdrOnLoad=function(d,T){var D=Ci(d);if(d&&(D+""=="200"||D===""))n=0,l._onSuccess(T,0);else{var A=w(D);A&&A.itemsReceived&&A.itemsReceived>A.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,A):l._onError(T,Ae(d))}};function C(d){return l._sample.isSampledIn(d)}function E(d,T,D,A,H,_){var j=null;if(l._appId||(j=w(_),j&&j.appId&&(l._appId=j.appId)),(d<200||d>=300)&&d!==0){if((d===301||d===307||d===308)&&!P(D)){l._onError(T,H);return}!l._senderConfig.isRetryDisabled()&&Se(d)?(L(T),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Response code "+d+". Will retry to send "+T.length+" items.")):l._onError(T,H)}else if(ao.isOffline()){if(!l._senderConfig.isRetryDisabled()){var Z=10;L(T,Z),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Offline - Response Code: "+d+". Offline status: "+ao.isOffline()+". Will retry to send "+T.length+" items.")}}else P(D),d===206?(j||(j=w(_)),j&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,j):l._onError(T,H)):(n=0,l._onSuccess(T,A))}function P(d){return s>=10?!1:!x(d)&&d!==""&&d!==l._senderConfig.endpointUrl()?(l._senderConfig.endpointUrl=function(){return d},++s,!0):!1}function p(d,T){var D=l._senderConfig.endpointUrl(),A=l._buffer.batchPayloads(d),H=new Blob([A],{type:"text/plain;charset=UTF-8"}),_=_e().sendBeacon(D,H);_?(l._buffer.markAsSent(d),l._onSuccess(d,d.length)):(v(d,!0),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function v(d,T){var D=new XMLHttpRequest,A=l._senderConfig.endpointUrl();try{D[Et]=!0}catch(_){}D.open("POST",A,T),D.setRequestHeader("Content-type","application/json"),Lr(A)&&D.setRequestHeader(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Ye(c),function(_){D.setRequestHeader(_,c[_])}),D.onreadystatechange=function(){return l._xhrReadyStateChange(D,d,d.length)},D.onerror=function(_){return l._onError(d,J(D),_)};var H=l._buffer.batchPayloads(d);D.send(H),l._buffer.markAsSent(d)}function y(d,T){var D=l._senderConfig.endpointUrl(),A=l._buffer.batchPayloads(d),H=new Blob([A],{type:"text/plain;charset=UTF-8"}),_=new Headers;Lr(D)&&_.append(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Ye(c),function(ie){_.append(ie,c[ie])});var j={method:"POST",headers:_,body:H},Z=new Request(D,j);fetch(Z).then(function(ie){if(ie.ok)ie.text().then(function(Bt){E(ie.status,d,ie.url,d.length,ie.statusText,Bt)}),l._buffer.markAsSent(d);else throw Error(ie.statusText)}).catch(function(ie){l._onError(d,ie.message)})}function w(d){try{if(d&&d!==""){var T=be().parse(d);if(T&&T.itemsReceived&&T.itemsReceived>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors.length)return T}}catch(D){l.diagLog().throwInternal(S.CRITICAL,h.InvalidBackendResponse,"Cannot parse the response. "+G(D),{response:d})}return null}function L(d,T){if(T===void 0&&(T=1),!(!d||d.length===0)){l._buffer.clearSent(d),n++;for(var D=0,A=d;D<A.length;D++){var H=A[D];l._buffer.enqueue(H)}k(T),Q()}}function k(d){var T=10,D;if(n<=1)D=T;else{var A=(Math.pow(2,n)-1)/2,H=Math.floor(Math.random()*A*T)+1;H=d*H,D=Math.max(Math.min(H,3600),T)}var _=de()+D*1e3;i=_}function Q(){if(!o){var d=i?Math.max(0,i-de()):0,T=Math.max(l._senderConfig.maxBatchInterval(),d);o=setTimeout(function(){l.triggerSend(!0,null,1)},T)}}function Se(d){return d===408||d===429||d===500||d===503}function J(d,T){return d?"XMLHttpRequest,Status:"+d.status+",Response:"+Ci(d)||d.response||"":T}function me(d,T){var D=It(),A=new XDomainRequest;A.onload=function(){return l._xdrOnLoad(A,d)},A.onerror=function(Z){return l._onError(d,Ae(A),Z)};var H=D&&D.location&&D.location.protocol||"";if(l._senderConfig.endpointUrl().lastIndexOf(H,0)!==0){l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),l._buffer.clear();return}var _=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");A.open("POST",_);var j=l._buffer.batchPayloads(d);A.send(j),l._buffer.markAsSent(d)}function Ae(d,T){return d?"XDomainRequest,Response:"+Ci(d)||"":T}function pt(){var d="getNotifyMgr";return l.core[d]?l.core[d]():l.core._notificationManager}function at(d,T){var D=pt();if(D&&D.eventsSendRequest)try{D.eventsSendRequest(d,T)}catch(A){l.diagLog().throwInternal(S.CRITICAL,h.NotificationException,"send request notification failed: "+G(A),{exception:O(A)})}}function dt(d){var T=x(d.disableInstrumentationKeyValidation)?!1:d.disableInstrumentationKeyValidation;if(T)return!0;var D="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",A=new RegExp(D);return A.test(d.instrumentationKey)}}),r}return e.constructEnvelope=function(r,n,i){var a;switch(n!==r.iKey&&!x(n)?a=yt({},r,{iKey:n}):a=r,a.baseType){case Ve.dataType:return io.EventEnvelopeCreator.Create(i,a);case Ze.dataType:return bu.TraceEnvelopeCreator.Create(i,a);case ke.dataType:return Eu.PageViewEnvelopeCreator.Create(i,a);case $e.dataType:return wu.PageViewPerformanceEnvelopeCreator.Create(i,a);case he.dataType:return Cu.ExceptionEnvelopeCreator.Create(i,a);case qe.dataType:return Tu.MetricEnvelopeCreator.Create(i,a);case je.dataType:return Iu.DependencyEnvelopeCreator.Create(i,a);default:return io.EventEnvelopeCreator.Create(i,a)}},e._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},e._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},e}(tt)});var oo=I(()=>{Uu()});var hl,so,Ou,zu=I(()=>{Te();xe();X();hl="ai_session",so=function(){function t(){}return t}(),Ou=function(){function t(e,r){var n=this,i,a,o=Rt(r),u=lr(r);W(t,n,function(s){e||(e={}),B(e.sessionExpirationMs)||(e.sessionExpirationMs=function(){return t.acquisitionSpan}),B(e.sessionRenewalMs)||(e.sessionRenewalMs=function(){return t.renewalSpan}),s.config=e;var c=s.config.sessionCookiePostfix&&s.config.sessionCookiePostfix()?s.config.sessionCookiePostfix():s.config.namePrefix&&s.config.namePrefix()?s.config.namePrefix():"";i=function(){return hl+c},s.automaticSession=new so,s.update=function(){var P=de(),p=!1,v=s.automaticSession;v.id||(p=!l(v,P));var y=s.config.sessionExpirationMs();if(!p&&y>0){var w=s.config.sessionRenewalMs(),L=P-v.acquisitionDate,k=P-v.renewalDate;p=L<0||k<0,p=p||L>y,p=p||k>w}p?m(P):(!a||P-a>t.cookieUpdateInterval)&&C(v,P)},s.backup=function(){var P=s.automaticSession;E(P.id,P.acquisitionDate,P.renewalDate)};function l(P,p){var v=!1,y=u.get(i());if(y&&B(y.split))v=f(P,y);else{var w=gn(o,i());w&&(v=f(P,w))}return v||!!P.id}function f(P,p){var v=!1,y=", session will be reset",w=p.split("|");if(w.length>=2)try{var L=+w[1]||0,k=+w[2]||0;isNaN(L)||L<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session acquisition date is 0"+y):isNaN(k)||k<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session renewal date is 0"+y):w[0]&&(P.id=w[0],P.acquisitionDate=L,P.renewalDate=k,v=!0)}catch(Q){o.throwInternal(S.CRITICAL,h.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(p||"")+"]"+y+" - "+G(Q),{exception:O(Q)})}return v}function m(P){var p=s.config||{},v=(p.getNewId?p.getNewId():null)||Xt;s.automaticSession.id=v(p.idLength?p.idLength():22),s.automaticSession.acquisitionDate=P,C(s.automaticSession,P),Mr()||o.throwInternal(S.WARNING,h.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function C(P,p){var v=P.acquisitionDate;P.renewalDate=p;var y=s.config,w=y.sessionRenewalMs(),L=v+y.sessionExpirationMs()-p,k=[P.id,v,p],Q=0;L<w?Q=L/1e3:Q=w/1e3;var Se=y.cookieDomain?y.cookieDomain():null;u.set(i(),k.join("|"),y.sessionExpirationMs()>0?Q:null,Se),a=p}function E(P,p,v){vn(o,i(),[P,p,v].join("|"))}})}return t.acquisitionSpan=864e5,t.renewalSpan=18e5,t.cookieUpdateInterval=6e4,t}()});var Bu,Hu=I(()=>{Bu=function(){function t(){}return t}()});var Vu,qu=I(()=>{Vu=function(){function t(){this.id="browser",this.deviceClass="Browser"}return t}()});var xl,ju,Gu=I(()=>{xl="2.6.4",ju=function(){function t(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+xl}return t}()});function Ku(t){return!(typeof t!="string"||!t||t.match(/,|;|=| |\|/))}var Wu,Xu=I(()=>{Te();xe();X();Wu=function(){function t(e,r){this.isNewUser=!1;var n=Rt(r),i=lr(r),a;W(t,this,function(o){o.config=e;var u=o.config.userCookiePostfix&&o.config.userCookiePostfix()?o.config.userCookiePostfix():"";a=function(){return t.userCookieName+u};var s=i.get(a());if(s){o.isNewUser=!1;var c=s.split(t.cookieSeparator);c.length>0&&(o.id=c[0])}if(!o.id){var l=e||{},f=(l.getNewId?l.getNewId():null)||Xt;o.id=f(l.idLength?e.idLength():22);var m=31536e3,C=Me(new Date);o.accountAcquisitionDate=C,o.isNewUser=!0;var E=[o.id,C];i.set(a(),E.join(t.cookieSeparator),m);var P=e.namePrefix&&e.namePrefix()?e.namePrefix()+"ai_session":"ai_session";hn(n,P)}o.accountId=e.accountId?e.accountId():void 0;var p=i.get(t.authUserCookieName);if(p){p=decodeURI(p);var v=p.split(t.cookieSeparator);v[0]&&(o.authenticatedId=v[0]),v.length>1&&v[1]&&(o.accountId=v[1])}o.setAuthenticatedUserContext=function(y,w,L){L===void 0&&(L=!1);var k=!Ku(y)||w&&!Ku(w);if(k){n.throwInternal(S.WARNING,h.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}o.authenticatedId=y;var Q=o.authenticatedId;w&&(o.accountId=w,Q=[o.authenticatedId,o.accountId].join(t.cookieSeparator)),L&&i.set(t.authUserCookieName,encodeURI(Q))},o.clearAuthenticatedUserContext=function(){o.authenticatedId=null,o.accountId=null,i.del(t.authUserCookieName)}})}return t.cookieSeparator="|",t.userCookieName="ai_user",t.authUserCookieName="ai_authUser",t}()});var Ju,Qu=I(()=>{Ju=function(){function t(){}return t}()});var Zu,$u=I(()=>{xe();X();Zu=function(){function t(e,r,n,i){var a=this;a.traceID=e||ze(),a.parentID=r,a.name=n;var o=et();!n&&o&&o.pathname&&(a.name=o.pathname),a.name=oe(i,a.name)}return t}()});function Br(t,e){t&&t[e]&&Ye(t[e]).length===0&&delete t[e]}var Ti,Ei,Yu,ec=I(()=>{Te();X();zu();xe();Hu();qu();Gu();Xu();Qu();$u();Ti="ext",Ei="tags";Yu=function(){function t(e,r){var n=this,i=e.logger;this.appId=function(){return null},W(t,this,function(a){a.application=new Bu,a.internal=new ju(r),or()&&(a.sessionManager=new Ou(r,e),a.device=new Vu,a.location=new Ju,a.user=new Wu(r,e),a.telemetryTrace=new Zu(void 0,void 0,void 0,i),a.session=new so),a.applySessionContext=function(o,u){var s=a.session,c=a.sessionManager;s&&U(s.id)?K(ge(o.ext,Ue.AppExt),"sesId",s.id):c&&c.automaticSession&&K(ge(o.ext,Ue.AppExt),"sesId",c.automaticSession.id,U)},a.applyOperatingSystemContxt=function(o,u){K(o.ext,Ue.OSExt,a.os)},a.applyApplicationContext=function(o,u){var s=a.application;if(s){var c=ge(o,Ei);K(c,re.applicationVersion,s.ver,U),K(c,re.applicationBuild,s.build,U)}},a.applyDeviceContext=function(o,u){var s=a.device;if(s){var c=ge(ge(o,Ti),Ue.DeviceExt);K(c,"localId",s.id,U),K(c,"ip",s.ip,U),K(c,"model",s.model,U),K(c,"deviceClass",s.deviceClass,U)}},a.applyInternalContext=function(o,u){var s=a.internal;if(s){var c=ge(o,Ei);K(c,re.internalAgentVersion,s.agentVersion,U),K(c,re.internalSdkVersion,s.sdkVersion,U),(o.baseType===Ft.dataType||o.baseType===ke.dataType)&&(K(c,re.internalSnippet,s.snippetVer,U),K(c,re.internalSdkSrc,s.sdkSrc,U))}},a.applyLocationContext=function(o,u){var s=n.location;s&&K(ge(o,Ei,[]),re.locationIp,s.ip,U)},a.applyOperationContext=function(o,u){var s=a.telemetryTrace;if(s){var c=ge(ge(o,Ti),Ue.TraceExt,{traceID:void 0,parentID:void 0});K(c,"traceID",s.traceID,U),K(c,"name",s.name,U),K(c,"parentID",s.parentID,U)}},a.applyWebContext=function(o,u){var s=n.web;s&&K(ge(o,Ti),Ue.WebExt,s)},a.applyUserContext=function(o,u){var s=a.user;if(s){var c=ge(o,Ei,[]);K(c,re.userAccountId,s.accountId,U);var l=ge(ge(o,Ti),Ue.UserExt);K(l,"id",s.id,U),K(l,"authId",s.authenticatedId,U)}},a.cleanUp=function(o,u){var s=o.ext;s&&(Br(s,Ue.DeviceExt),Br(s,Ue.UserExt),Br(s,Ue.WebExt),Br(s,Ue.OSExt),Br(s,Ue.AppExt),Br(s,Ue.TraceExt))}})}return t}()});var yl,kn,tc=I(()=>{ne();Te();X();ec();xe();yl=function(t){z(e,t);function e(){var r=t.call(this)||this;r.priority=110,r.identifier=zt;var n,i;return W(e,r,function(a,o){a.initialize=function(s,c,l,f){o.initialize(s,c,l,f);var m=a._getTelCtx(),C=a.identifier,E=e.getDefaultConfig();i=i||{},Y(E,function(P,p){i[P]=function(){return m.getConfig(C,P,p())}}),a.context=new Yu(c,i),n=ln(l,zr),a.context.appId=function(){return n?n._appId:null},a._extConfig=i},a.processTelemetry=function(s,c){if(!x(s)){c=a._getTelCtx(c),s.name===ke.envelopeType&&c.diagLog().resetInternalMessageCount();var l=a.context||{};if(l.session&&typeof a.context.session.id!="string"&&l.sessionManager&&l.sessionManager.update(),u(s,c),l.user&&l.user.isNewUser){l.user.isNewUser=!1;var f=new Ft(h.SendBrowserInfoOnUserInit,(_e()||{}).userAgent||"");c.diagLog().logInternalMessage(S.CRITICAL,f)}a.processNext(s,c)}};function u(s,c){ge(s,"tags",[]),ge(s,"ext",{});var l=a.context;l.applySessionContext(s,c),l.applyApplicationContext(s,c),l.applyDeviceContext(s,c),l.applyOperationContext(s,c),l.applyUserContext(s,c),l.applyOperatingSystemContxt(s,c),l.applyWebContext(s,c),l.applyLocationContext(s,c),l.applyInternalContext(s,c),l.cleanUp(s,c)}}),r}return e.getDefaultConfig=function(){var r={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return r},e}(tt),kn=yl});var uo=I(()=>{tc()});function rc(t,e,r){var n=0,i=t[e],a=t[r];return i&&a&&(n=ve(i,a)),n}function yr(t,e,r,n,i){var a=0,o=rc(r,n,i);return o&&(a=rr(t,e,Ge(o))),a}function rr(t,e,r){var n="ajaxPerf",i=0;if(t&&e&&r){var a=t[n]=t[n]||{};a[e]=r,i=1}return i}function Sl(t,e){var r=t.perfTiming,n=e[nt]||{},i=0,a="name",o="Start",u="End",s="domainLookup",c="connect",l="redirect",f="request",m="response",C="duration",E="startTime",P=s+o,p=s+u,v=c+o,y=c+u,w=f+o,L=f+u,k=m+o,Q=m+u,Se=l+o,J=l=u,me="transferSize",Ae="encodedBodySize",pt="decodedBodySize",at="serverTiming";if(r){i|=yr(n,l,r,Se,J),i|=yr(n,s,r,P,p),i|=yr(n,c,r,v,y),i|=yr(n,f,r,w,L),i|=yr(n,m,r,k,Q),i|=yr(n,"networkConnect",r,E,y),i|=yr(n,"sentRequest",r,w,Q);var dt=r[C];dt||(dt=rc(r,E,Q)||0),i|=rr(n,C,dt),i|=rr(n,"perfTotal",dt);var d=r[at];if(d){var T={};R(d,function(D,A){var H=Gi(D[a]||""+A),_=T[H]||{};Y(D,function(j,Z){(j!==a&&U(Z)||ar(Z))&&(_[j]&&(Z=_[j]+";"+Z),(Z||!U(Z))&&(_[j]=Z))}),T[H]=_}),i|=rr(n,at,T)}i|=rr(n,me,r[me]),i|=rr(n,Ae,r[Ae]),i|=rr(n,pt,r[pt])}else t.perfMark&&(i|=rr(n,"missing",t.perfAttempts));i&&(e[nt]=n)}var nt,Il,co,nc=I(()=>{xe();X();Te();nt="properties";Il=function(){function t(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1}return t}(),co=function(){function t(e,r,n){var i=this,a=n,o="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Il,i.clientFailure=0,i.traceID=e,i.spanID=r,W(t,i,function(u){u.getAbsoluteUrl=function(){return u.requestUrl?yn(u.requestUrl):null},u.getPathName=function(){return u.requestUrl?Tt(a,Sn(u.method,u.requestUrl)):null},u.CreateTrackItem=function(s,c,l){if(u.ajaxTotalDuration=Math.round(ve(u.requestSentTime,u.responseFinishedTime)*1e3)/1e3,u.ajaxTotalDuration<0)return null;var f=(P={id:"|"+u.traceID+"."+u.spanID,target:u.getAbsoluteUrl(),name:u.getPathName(),type:s,startTime:null,duration:u.ajaxTotalDuration,success:+u.status>=200&&+u.status<400,responseCode:+u.status,method:u.method},P[nt]={HttpMethod:u.method},P);if(u.requestSentTime&&(f.startTime=new Date,f.startTime.setTime(u.requestSentTime)),Sl(u,f),c&&Ye(u.requestHeaders).length>0&&(f[nt]=f[nt]||{},f[nt].requestHeaders=u.requestHeaders),l){var m=l();if(m){var C=m.correlationContext;if(C&&(f.correlationContext=C),m.headerMap&&Ye(m.headerMap).length>0&&(f[nt]=f[nt]||{},f[nt].responseHeaders=m.headerMap),u.status>=400){var E=m.type;f[nt]=f[nt]||{},(E===""||E==="text")&&(f[nt][o]=m[o]?m.statusText+" - "+m[o]:m.statusText),E==="json"&&(f[nt][o]=m.response?m.statusText+" - "+JSON.stringify(m.response):m.statusText)}}}return f;var P}})}return t}()});var Sh,ic=I(()=>{X();X();Sh=function(){function t(){}return t.GetLength=function(e){var r=0;if(!x(e)){var n="";try{n=e.toString()}catch(i){}r=n.length,r=isNaN(r)?0:r}return r},t}()});var lo,ac=I(()=>{X();lo=function(){function t(e,r){var n=this;n.traceFlag=t.DEFAULT_TRACE_FLAG,n.version=t.DEFAULT_VERSION,e&&t.isValidTraceId(e)?n.traceId=e:n.traceId=ze(),r&&t.isValidSpanId(r)?n.spanId=r:n.spanId=ze().substr(0,16)}return t.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&e!=="00000000000000000000000000000000"},t.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&e!=="0000000000000000"},t.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},t.DEFAULT_TRACE_FLAG="01",t.DEFAULT_VERSION="00",t}()});function Cl(){var t=ot();return!t||x(t.Request)||x(t.Request[Ce])||x(t[Mn])?null:t[Mn]}function Tl(t){var e=!1;if(typeof XMLHttpRequest!==Oe&&!x(XMLHttpRequest)){var r=XMLHttpRequest[Ce];e=!x(r)&&!x(r.open)&&!x(r.send)&&!x(r.abort)}var n=sr();if(n&&n<9&&(e=!1),e)try{var i=new XMLHttpRequest;i[it]={};var a=XMLHttpRequest[Ce].open;XMLHttpRequest[Ce].open=a}catch(o){e=!1,Ln(t,h.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:O(o)})}return e}function bi(t){var e="";try{!x(t)&&!x(t[it])&&!x(t[it].requestUrl)&&(e+="(url: '"+t[it].requestUrl+"')")}catch(r){}return e}function Ln(t,e,r,n,i){t[Rn]()[uc](S.CRITICAL,e,r,n,i)}function wi(t,e,r,n,i){t[Rn]()[uc](S.WARNING,e,r,n,i)}function Fn(t,e,r){return function(n){Ln(t,e,r,{ajaxDiagnosticsMessage:bi(n.inst),exception:O(n.err)})}}function Hr(t,e){return t&&e?t.indexOf(e):-1}var oc,Rn,it,uc,Mn,sc,_n,cc=I(()=>{ne();xe();X();nc();ic();ac();Te();oc="ai.ajxmn.",Rn="diagLog",it="ajaxData",uc="throwInternal",Mn="fetch",sc=0;_n=function(t){z(e,t);function e(){var r=t.call(this)||this;r.identifier=e.identifier,r.priority=120;var n="trackDependencyDataInternal",i=et(),a=!1,o=!1,u=i&&i.host&&i.host.toLowerCase(),s=e.getEmptyConfig(),c=!1,l=0,f,m,C,E,P=!1,p=0,v=!1,y=[],w={},L;return W(e,r,function(k,Q){k.initialize=function(g,b,N,F){if(!k.isInitialized()){Q.initialize(g,b,N,F);var M=k._getTelCtx(),q=e.getDefaultConfig();Y(q,function(We,Sr){s[We]=M.getConfig(e.identifier,We,Sr)});var V=s.distributedTracingMode;if(c=s.enableRequestHeaderTracking,P=s.enableAjaxPerfTracking,p=s.maxAjaxCallsPerView,v=s.enableResponseHeaderTracking,L=s.excludeRequestFromAutoTrackingPatterns,C=V===Ke.AI||V===Ke.AI_AND_W3C,m=V===Ke.AI_AND_W3C||V===Ke.W3C,P){var $=g.instrumentationKey||"unkwn";$.length>5?E=oc+$.substring($.length-5)+".":E=oc+$+"."}if(s.disableAjaxTracking===!1&&Ae(),J(),N.length>0&&N){for(var ce=void 0,Ie=0;!ce&&Ie<N.length;)N[Ie]&&N[Ie].identifier===zt&&(ce=N[Ie]),Ie++;ce&&(f=ce.context)}}},k.teardown=function(){R(y,function(g){g.rm()}),y=[],a=!1,o=!1,k.setInitialized(!1)},k.trackDependencyData=function(g,b){k[n](g,b)},k.includeCorrelationHeaders=function(g,b,N,F){var M=k._currentWindowHost||u;if(b){if(bt.canIncludeCorrelationHeader(s,g.getAbsoluteUrl(),M)){if(N||(N={}),N.headers=new Headers(N.headers||(b instanceof Request?b.headers||{}:{})),C){var q="|"+g.traceID+"."+g.spanID;N.headers.set(te.requestIdHeader,q),c&&(g.requestHeaders[te.requestIdHeader]=q)}var V=s.appId||f&&f.appId();if(V&&(N.headers.set(te.requestContextHeader,te.requestContextAppIdFormat+V),c&&(g.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+V)),m){var $=new lo(g.traceID,g.spanID);N.headers.set(te.traceParentHeader,$.toString()),c&&(g.requestHeaders[te.traceParentHeader]=$.toString())}}return N}else if(F){if(bt.canIncludeCorrelationHeader(s,g.getAbsoluteUrl(),M)){if(C){var q="|"+g.traceID+"."+g.spanID;F.setRequestHeader(te.requestIdHeader,q),c&&(g.requestHeaders[te.requestIdHeader]=q)}var V=s.appId||f&&f.appId();if(V&&(F.setRequestHeader(te.requestContextHeader,te.requestContextAppIdFormat+V),c&&(g.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+V)),m){var $=new lo(g.traceID,g.spanID);F.setRequestHeader(te.traceParentHeader,$.toString()),c&&(g.requestHeaders[te.traceParentHeader]=$.toString())}}return F}},k[n]=function(g,b,N){if(p===-1||l<p){(s.distributedTracingMode===Ke.W3C||s.distributedTracingMode===Ke.AI_AND_W3C)&&typeof g.id=="string"&&g.id[g.id.length-1]!=="."&&(g.id+="."),x(g.startTime)&&(g.startTime=new Date);var F=rt.create(g,je.dataType,je.envelopeType,k[Rn](),b,N);k.core.track(F)}else l===p&&Ln(k,h.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++l};function Se(g){var b=!0;return(g||s.ignoreHeaders)&&R(s.ignoreHeaders,function(N){if(N.toLowerCase()===g.toLowerCase())return b=!1,-1}),b}function J(){var g=Cl();if(!!g){var b=ot(),N=g.polyfill;s.disableFetchTracking===!1?(y.push(cn(b,Mn,{req:function(F,M,q){var V;if(a&&!pt(null,M,q)&&!(N&&o)){var $=F.ctx();V=j(M,q);var ce=k.includeCorrelationHeaders(V,M,q);ce!==q&&F.set(1,ce),$.data=V}},rsp:function(F,M){var q=F.ctx().data;q&&(F.rslt=F.rslt.then(function(V){return ie(F,(V||{}).status,V,q,function(){var $={statusText:V.statusText,headerMap:null,correlationContext:Bt(V)};if(v){var ce={};V.headers.forEach(function(Ie,We){Se(We)&&(ce[We]=Ie)}),$.headerMap=ce}return $}),V}).catch(function(V){throw ie(F,0,M,q,null,{error:V.message}),V}))},hkErr:Fn(k,h.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=!0):N&&y.push(cn(b,Mn,{req:function(F,M,q){pt(null,M,q)}})),N&&(b[Mn].polyfill=N)}}function me(g,b,N){y.push(Pa(g,b,N))}function Ae(){Tl(k)&&!o&&(me(XMLHttpRequest,"open",{req:function(g,b,N,F){var M=g.inst,q=M[it];!pt(M,N)&&at(M,!0)&&(!q||!q.xhrMonitoringState.openDone)&&dt(M,b,N,F)},hkErr:Fn(k,h.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),me(XMLHttpRequest,"send",{req:function(g,b){var N=g.inst,F=N[it];at(N)&&!F.xhrMonitoringState.sendDone&&(H("xhr",F),F.requestSentTime=gr(),k.includeCorrelationHeaders(F,void 0,void 0,N),F.xhrMonitoringState.sendDone=!0)},hkErr:Fn(k,h.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),me(XMLHttpRequest,"abort",{req:function(g){var b=g.inst,N=b[it];at(b)&&!N.xhrMonitoringState.abortDone&&(N.aborted=1,N.xhrMonitoringState.abortDone=!0)},hkErr:Fn(k,h.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),c&&me(XMLHttpRequest,"setRequestHeader",{req:function(g,b,N){var F=g.inst;at(F)&&Se(b)&&(F[it].requestHeaders[b]=N)},hkErr:Fn(k,h.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),o=!0)}function pt(g,b,N){var F=!1,M=((U(b)?b:(b||{}).url||"")||"").toLowerCase();if(R(L,function($){var ce=$;U($)&&(ce=new RegExp($)),F||(F=ce.test(M))}),F)return F;var q=Hr(M,"?"),V=Hr(M,"#");return(q===-1||V!==-1&&V<q)&&(q=V),q!==-1&&(M=M.substring(0,q)),x(g)?x(b)||(F=(typeof b=="object"?b[Et]===!0:!1)||(N?N[Et]===!0:!1)):F=g[Et]===!0||M[Et]===!0,F?w[M]||(w[M]=1):w[M]&&(F=!0),F}function at(g,b){var N=!0,F=o;return x(g)||(N=b===!0||!x(g[it])),F&&N}function dt(g,b,N,F){var M=f&&f.telemetryTrace&&f.telemetryTrace.traceID||ze(),q=ze().substr(0,16),V=new co(M,q,k[Rn]());V.method=b,V.requestUrl=N,V.xhrMonitoringState.openDone=!0,V.requestHeaders={},V.async=F,g[it]=V,d(g)}function d(g){g[it].xhrMonitoringState.stateChangeAttached=Jt.Attach(g,"readystatechange",function(){try{g&&g.readyState===4&&at(g)&&D(g)}catch(N){var b=O(N);(!b||Hr(b.toLowerCase(),"c00c023f")===-1)&&Ln(k,h.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:bi(g),exception:b})}})}function T(g){try{var b=g.responseType;if(b===""||b==="text")return g.responseText}catch(N){}return null}function D(g){var b=g[it];b.responseFinishedTime=gr(),b.status=g.status;function N(F,M){var q=M||{};q.ajaxDiagnosticsMessage=bi(g),F&&(q.exception=O(F)),wi(k,h.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",q)}_("xmlhttprequest",b,function(){try{var F=b.CreateTrackItem("Ajax",c,function(){var M={statusText:g.statusText,headerMap:null,correlationContext:A(g),type:g.responseType,responseText:T(g),response:g.response};if(v){var q=g.getAllResponseHeaders();if(q){var V=se(q).split(/[\r\n]+/),$={};R(V,function(ce){var Ie=ce.split(": "),We=Ie.shift(),Sr=Ie.join(": ");Se(We)&&($[We]=Sr)}),M.headerMap=$}}return M});F?k[n](F):N(null,{requestSentTime:b.requestSentTime,responseFinishedTime:b.responseFinishedTime})}finally{try{g[it]=null}catch(M){}}},function(F){N(F,null)})}function A(g){try{var b=g.getAllResponseHeaders();if(b!==null){var N=Hr(b.toLowerCase(),te.requestContextHeaderLowerCase);if(N!==-1){var F=g.getResponseHeader(te.requestContextHeader);return bt.getCorrelationContext(F)}}}catch(M){wi(k,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:bi(g),exception:O(M)})}}function H(g,b){if(b.requestUrl&&E&&P){var N=Qe();if(N&&B(N.mark)){sc++;var F=E+g+"#"+sc;N.mark(F);var M=N.getEntriesByName(F);M&&M.length===1&&(b.perfMark=M[0])}}}function _(g,b,N,F){var M=b.perfMark,q=Qe(),V=s.maxAjaxPerfLookupAttempts,$=s.ajaxPerfLookupDelay,ce=b.requestUrl,Ie=0;(function We(){try{if(q&&M){Ie++;for(var Sr=null,go=q.getEntries(),Ai=go.length-1;Ai>=0;Ai--){var Pt=go[Ai];if(Pt){if(Pt.entryType==="resource")Pt.initiatorType===g&&(Hr(Pt.name,ce)!==-1||Hr(ce,Pt.name)!==-1)&&(Sr=Pt);else if(Pt.entryType==="mark"&&Pt.name===M.name){b.perfTiming=Sr;break}if(Pt.startTime<M.startTime-1e3)break}}}!M||b.perfTiming||Ie>=V||b.async===!1?(M&&B(q.clearMarks)&&q.clearMarks(M.name),b.perfAttempts=Ie,N()):setTimeout(We,$)}catch(yc){F(yc)}})()}function j(g,b){var N=f&&f.telemetryTrace&&f.telemetryTrace.traceID||ze(),F=ze().substr(0,16),M=new co(N,F,k[Rn]());M.requestSentTime=gr(),g instanceof Request?M.requestUrl=g?g.url:"":M.requestUrl=g;var q="GET";b&&b.method?q=b.method:g&&g instanceof Request&&(q=g.method),M.method=q;var V={};if(c){var $=new Headers((b?b.headers:0)||(g instanceof Request?g.headers||{}:{}));$.forEach(function(ce,Ie){Se(Ie)&&(V[Ie]=ce)})}return M.requestHeaders=V,H("fetch",M),M}function Z(g){var b="";try{x(g)||(typeof g=="string"?b+="(url: '"+g+"')":b+="(url: '"+g.url+"')")}catch(N){Ln(k,h.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:O(N)})}return b}function ie(g,b,N,F,M,q){if(!F)return;function V($,ce,Ie){var We=Ie||{};We.fetchDiagnosticsMessage=Z(N),ce&&(We.exception=O(ce)),wi(k,$,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",We)}F.responseFinishedTime=gr(),F.status=b,_("fetch",F,function(){var $=F.CreateTrackItem("Fetch",c,M);$?k[n]($):V(h.FailedMonitorAjaxDur,null,{requestSentTime:F.requestSentTime,responseFinishedTime:F.responseFinishedTime})},function($){V(h.FailedMonitorAjaxGetCorrelationHeader,$,null)})}function Bt(g){if(g&&g.headers)try{var b=g.headers.get(te.requestContextHeader);return bt.getCorrelationContext(b)}catch(N){wi(k,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:Z(g),exception:O(N)})}}}),r}return e.getDefaultConfig=function(){var r={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:Ke.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return r},e.getEmptyConfig=function(){var r=this.getDefaultConfig();return Y(r,function(n){r[n]=void 0}),r},e.prototype.processTelemetry=function(r,n){this.processNext(r,n)},e.identifier="AjaxDependencyPlugin",e}(tt)});var fo=I(()=>{cc()});var po,lc,El,fc,Pi,mo=I(()=>{X();ro();oo();uo();fo();xe();lc=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],El={Default:0,Required:1,Array:2,Hidden:4},fc={__proto__:null,PropertiesPluginIdentifier:zt,BreezeChannelIdentifier:zr,AnalyticsPluginIdentifier:Ii,Util:Cn,CorrelationIdHelper:bt,UrlHelper:Ba,DateTimeUtils:Ha,ConnectionStringParser:qa,FieldType:El,RequestHeaders:te,DisabledPropertyName:Et,ProcessLegacy:Ut,SampleRate:fr,HttpMethod:Rr,DEFAULT_BREEZE_ENDPOINT:dn,AIData:En,AIBase:Tn,Envelope:wn,Event:Ve,Exception:he,Metric:qe,PageView:ke,PageViewData:vr,RemoteDependencyData:je,Trace:Ze,PageViewPerformance:$e,Data:xt,SeverityLevel:Ot,ConfigurationManager:$a,ContextTagKeys:xr,DataSanitizer:ka,TelemetryItemCreator:rt,CtxTagKeys:re,Extensions:Ue,DistributedTracingModes:Ke},Pi=function(){function t(e){var r=this;r._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var i=gi(n.connectionString),a=i.ingestionendpoint;n.endpointUrl=a?a+"/v2/track":n.endpointUrl,n.instrumentationKey=i.instrumentationkey||n.instrumentationKey}r.appInsights=new Dn,r.properties=new kn,r.dependencies=new _n,r.core=new rn,r._sender=new Nn,r.snippet=e,r.config=n,r.getSKUDefaults()}return t.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},t.prototype.trackEvent=function(e,r){this.appInsights.trackEvent(e,r)},t.prototype.trackPageView=function(e){var r=e||{};this.appInsights.trackPageView(r)},t.prototype.trackPageViewPerformance=function(e){var r=e||{};this.appInsights.trackPageViewPerformance(r)},t.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},t.prototype._onerror=function(e){this.appInsights._onerror(e)},t.prototype.trackTrace=function(e,r){this.appInsights.trackTrace(e,r)},t.prototype.trackMetric=function(e,r){this.appInsights.trackMetric(e,r)},t.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsights.stopTrackPage(e,r,n,i)},t.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,r,n){this.appInsights.stopTrackEvent(e,r,n)},t.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},t.prototype.setAuthenticatedUserContext=function(e,r,n){n===void 0&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,r,n)},t.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},t.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},t.prototype.flush=function(e){var r=this;e===void 0&&(e=!0),ut(this.core,function(){return"AISKU.flush"},function(){R(r.core.getTransmissionControls(),function(n){R(n,function(i){i.flush(e)})})},null,e)},t.prototype.onunloadFlush=function(e){e===void 0&&(e=!0),R(this.core.getTransmissionControls(),function(r){R(r,function(n){n.onunloadFlush?n.onunloadFlush():n.flush(e)})})},t.prototype.loadAppInsights=function(e,r,n){var i=this;e===void 0&&(e=!1);var a=this;function o(u){if(u){var s="";x(a._snippetVersion)||(s+=a._snippetVersion),e&&(s+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=s||"-"),Y(a,function(c,l){U(c)&&!B(l)&&c&&c[0]!=="_"&&lc.indexOf(c)===-1&&(u[c]=l)})}}return e&&a.config.extensions&&a.config.extensions.length>0&&De("Extensions not allowed in legacy mode"),ut(a.core,function(){return"AISKU.loadAppInsights"},function(){var u=[];u.push(a._sender),u.push(a.properties),u.push(a.dependencies),u.push(a.appInsights),a.core.initialize(a.config,u,r,n),a.context=a.properties.context,po&&a.context&&(a.context.internal.sdkSrc=po),o(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i)}),a},t.prototype.updateSnippetDefinitions=function(e){Jr(e,this,function(r){return r&&lc.indexOf(r)===-1})},t.prototype.emptyQueue=function(){var e=this;try{if(Re(e.snippet.queue)){for(var r=e.snippet.queue.length,n=0;n<r;n++){var i=e.snippet.queue[n];i()}e.snippet.queue=void 0,delete e.snippet.queue}}catch(o){var a={};o&&B(o.toString)&&(a.exception=o.toString())}},t.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},t.prototype.addHousekeepingBeforeUnload=function(e){if(or()||Jn()){var r=function(){e.onunloadFlush(!1),R(e.appInsights.core._extensions,function(i){if(i.identifier===zt)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=Lt("beforeunload",r);n=Lt("unload",r)||n,n=Lt("pagehide",r)||n,n=Lt("visibilitychange",r)||n,!n&&!ra()&&e.appInsights.core.logger.throwInternal(S.CRITICAL,h.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(Lt("pagehide",r),Lt("visibilitychange",r))}},t.prototype.getSender=function(){return this._sender},t.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},t}();(function(){var t=null,e=!1,r=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(t=n.src)}catch(u){}if(t)try{var i=t.toLowerCase();if(i){for(var a="",o=0;o<r.length;o++)if(i.indexOf(r[o])!==-1){a="cdn"+(o+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?a+="-next":i.indexOf("/beta/")!==-1&&(a+="-beta")),po=a+(e?".mod":"");break}}}catch(u){}})()});var wl,pc,dc=I(()=>{xe();X();wl=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],pc=function(){function t(e,r){this._hasLegacyInitializers=!1,this._queue=[],this.config=t.getDefaultConfig(e.config),this.appInsightsNew=r,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return t.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=30*60*1e3,e.sessionExpirationMs=24*60*60*1e3,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=ee(e.enableDebug),e.disableExceptionTracking=ee(e.disableExceptionTracking),e.disableTelemetry=ee(e.disableTelemetry),e.verboseLogging=ee(e.verboseLogging),e.emitLineDelimitedJson=ee(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=ee(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=ee(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=ee(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=ee(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=ee(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ee(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=ee(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=ee(e.isRetryDisabled),e.isCookieUseDisabled=ee(e.isCookieUseDisabled),e.isStorageUseDisabled=ee(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ee(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=ee(e.enableCorsCorrelation),e},t.prototype.addTelemetryInitializers=function(e){var r=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(n){r._processLegacyInitializers(n)}),this._hasLegacyInitializers=!0),this._queue.push(e)},t.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},t.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsightsNew.stopTrackPage(e,r,n)},t.prototype.trackPageView=function(e,r,n,i,a){var o={name:e,uri:r,properties:n,measurements:i};this.appInsightsNew.trackPageView(o)},t.prototype.trackEvent=function(e,r,n){this.appInsightsNew.trackEvent({name:e})},t.prototype.trackDependency=function(e,r,n,i,a,o,u){this.appInsightsNew.trackDependencyData({id:e,target:n,type:i,duration:a,properties:{HttpMethod:r},success:o,responseCode:u})},t.prototype.trackException=function(e,r,n,i,a){this.appInsightsNew.trackException({exception:e})},t.prototype.trackMetric=function(e,r,n,i,a,o){this.appInsightsNew.trackMetric({name:e,average:r,sampleCount:n,min:i,max:a})},t.prototype.trackTrace=function(e,r,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},t.prototype.flush=function(e){this.appInsightsNew.flush(e)},t.prototype.setAuthenticatedUserContext=function(e,r,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,r,n)},t.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},t.prototype._onerror=function(e,r,n,i,a){this.appInsightsNew._onerror({message:e,url:r,lineNumber:n,columnNumber:i,error:a})},t.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,r,n){this.appInsightsNew.stopTrackEvent(e,r,n)},t.prototype.downloadAndSetup=function(e){De("downloadAndSetup not implemented in web SKU")},t.prototype.updateSnippetDefinitions=function(e){Jr(e,this,function(r){return r&&wl.indexOf(r)===-1})},t.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var r=this.trackPageView;this.trackPageView=function(a,o,u){r.apply(e,[null,a,o,u])}}var n="logPageView";typeof this.snippet[n]=="function"&&(this[n]=function(a,o,u){e.trackPageView(null,a,o,u)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(a,o,u){e.trackEvent(a,o,u)}),this},t.prototype._processLegacyInitializers=function(e){return e.tags[Ut]=this._queue,e},t}()});var mc,gc=I(()=>{dc();mo();X();mc=function(){function t(){}return t.getAppInsights=function(e,r){var n=new Pi(e),i=r!==2;if(Qt(),r===2)return n.updateSnippetDefinitions(e),n.loadAppInsights(i),n;var a=new pc(e,n);return a.updateSnippetDefinitions(e),n.loadAppInsights(i),a},t}()});var vc={};Cc(vc,{AppInsightsCore:()=>rn,ApplicationAnalytics:()=>Dn,ApplicationInsights:()=>Pi,ApplicationInsightsContainer:()=>mc,BaseCore:()=>en,BaseTelemetryPlugin:()=>tt,CoreUtils:()=>un,DependenciesPlugin:()=>_n,DistributedTracingModes:()=>Ke,Event:()=>Ve,Exception:()=>he,LoggingSeverity:()=>S,Metric:()=>qe,NotificationManager:()=>tn,PageView:()=>ke,PageViewPerformance:()=>$e,PerfEvent:()=>ur,PerfManager:()=>Qr,PropertiesPlugin:()=>kn,RemoteDependencyData:()=>je,Sender:()=>Nn,SeverityLevel:()=>Ot,Telemetry:()=>fc,Trace:()=>Ze,Util:()=>Cn,_InternalMessageId:()=>h,doPerf:()=>ut});var hc=I(()=>{mo();gc();X();xe();oo();ro();uo();fo()});import*as Ir from"vscode";function At(){let t="telemetry",e="enableTelemetry";try{let r=Ir.env.telemetryConfiguration;return r.isUsageEnabled&&r.isErrorsEnabled&&r.isCrashEnabled?"on":r.isErrorsEnabled&&r.isCrashEnabled?"error":"off"}catch(r){return Ir.env.isTelemetryEnabled!==void 0?Ir.env.isTelemetryEnabled?"on":"off":Ir.workspace.getConfiguration(t).get(e)?"on":"off"}}var Di=class{constructor(e,r){this._isInstantiated=!1;this._eventQueue=[];this._exceptionQueue=[];this._clientFactory=r,this._key=e,At()!=="off"&&this.instantiateAppender()}logEvent(e,r){if(!this._telemetryClient){!this._isInstantiated&&At()==="on"&&this._eventQueue.push({eventName:e,data:r});return}this._telemetryClient.logEvent(e,r)}logException(e,r){if(!this._telemetryClient){!this._isInstantiated&&At()!=="off"&&this._exceptionQueue.push({exception:e,data:r});return}this._telemetryClient.logException(e,r)}flush(){return Vr(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:r})=>this.logEvent(e,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:r})=>this.logException(e,r)),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._isInstantiated=!0,this._flushQueues()}).catch(e=>{console.error(e)})}};import*as ae from"vscode";var Ni=class{constructor(e,r,n,i,a){this.extensionId=e;this.extensionVersion=r;this.telemetryAppender=n;this.osShim=i;this.firstParty=!1;this.userOptIn=!1;this.errorOptIn=!1;this.disposables=[];this.firstParty=!!a,this.updateUserOptStatus(),ae.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(ae.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(ae.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(ae.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=At();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let r="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{e.indexOf(`${n}`)===0&&(r=n)}),r}get extension(){return this._extension===void 0&&(this._extension=ae.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,r){if(e===null||typeof e!="object"||typeof r!="function")return e;let n={};for(let i in e)n[i]=r(i,e[i]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(ae.env.remoteName&&this.cleanRemoteName(ae.env.remoteName)==="other"):!0}getCommonProperties(){let e=Object.create(null);if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,ae&&ae.env){switch(e["common.vscodemachineid"]=ae.env.machineId,e["common.vscodesessionid"]=ae.env.sessionId,e["common.vscodeversion"]=ae.version,e["common.isnewappinstall"]=ae.env.isNewAppInstall?ae.env.isNewAppInstall.toString():"false",e["common.product"]=ae.env.appHost,ae.env.uiKind){case ae.UIKind.Web:e["common.uikind"]="web";break;case ae.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(ae.env.remoteName)}return e}anonymizeFilePaths(e,r){let n;if(e==null)return"";let i=[];ae.env.appRoot!==""&&i.push(new RegExp(ae.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&i.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let a=e;if(r){let o=[];for(let l of i)for(;(n=l.exec(e))&&n;)o.push([n.index,l.lastIndex]);let u=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(a="";(n=s.exec(e))&&n;)n[0]&&!u.test(n[0])&&o.every(([l,f])=>n.index<l||n.index>=f)&&(a+=e.substring(c,n.index)+"<REDACTED: user-file-path>",c=s.lastIndex);c<e.length&&(a+=e.substr(c))}for(let o of i)a=a.replace(o,"");return a}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let r=Object.create(null);for(let n of Object.keys(e)){let i=e[n];if(!i)continue;let a=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,u=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(i.toLowerCase())?r[n]="<REDACTED: secret>":a.test(i)?r[n]="<REDACTED: email>":u.test(i)?r[n]="<REDACTED: token>":r[n]=i}return r}get telemetryLevel(){switch(At()){case"on":return"all";case"error":return"error";case"off":return"off"}}sendTelemetryEvent(e,r,n){if(this.userOptIn&&e!==""){r=Xe(Xe({},r),this.getCommonProperties());let i=this.cloneAndChange(r,(a,o)=>this.anonymizeFilePaths(o,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:n})}}sendRawTelemetryEvent(e,r,n){this.userOptIn&&e!==""&&(r=Xe(Xe({},r),this.getCommonProperties()),this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:r,measurements:n}))}sendTelemetryErrorEvent(e,r,n,i){if(this.errorOptIn&&e!==""){r=Xe(Xe({},r),this.getCommonProperties());let a=this.cloneAndChange(r,(o,u)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(u,this.firstParty):i===void 0||i.indexOf(o)!==-1?"REDACTED":this.anonymizeFilePaths(u,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(a),measurements:n})}}sendTelemetryException(e,r,n){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&e){r=Xe(Xe({},r),this.getCommonProperties());let i=this.cloneAndChange(r,(a,o)=>this.anonymizeFilePaths(o,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),this.telemetryAppender.logException(e,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:n})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}};var bl=t=>Vr(void 0,null,function*(){let e;try{let n=yield Promise.resolve().then(()=>(hc(),vc)),i;t&&t.indexOf("AIF-")===0&&(i="https://vortex.data.microsoft.com/collect/v1"),e=new n.ApplicationInsights({config:{instrumentationKey:t,endpointUrl:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),e.loadAppInsights();let a=At();i&&a!=="off"&&fetch(i).catch(()=>e=void 0)}catch(n){return Promise.reject(n)}return{logEvent:(n,i)=>{e==null||e.trackEvent({name:n},Xe(Xe({},i==null?void 0:i.properties),i==null?void 0:i.measurements))},logException:(n,i)=>{e==null||e.trackException({exception:n,properties:Xe(Xe({},i==null?void 0:i.properties),i==null?void 0:i.measurements)})},flush:()=>Vr(void 0,null,function*(){e==null||e.flush()})}}),xc=class extends Ni{constructor(e,r,n,i){let a=new Di(n,bl);n&&n.indexOf("AIF-")===0&&(i=!0);super(e,r,a,{release:navigator.appVersion,platform:"web",architecture:"web"},i)}};export{xc as default};
/*!
 * Microsoft Dynamic Proto Utility, 1.1.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
